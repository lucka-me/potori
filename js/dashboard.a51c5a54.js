(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"075d":function(t){t.exports=JSON.parse('{"en":{"link":"Link Google Account","match":"Manually Match","charts":"Charts","brainstorming":"Brainstorming","processingMails":"Processing Mails","queryingBrainstorming":"Querying Brainstorming","syncing":"Syncing","loadingGAPI":"Loading Google API"},"zh":{"link":"连接Google账号","match":"手动匹配","charts":"图表","brainstorming":"Brainstorming","processingMails":"处理邮件中","queryingBrainstorming":"查询Brainstorming中","syncing":"同步中","loadingGAPI":"正在加载Google API"}}')},"123d":function(t){t.exports=JSON.parse('{"en":{"header":"Hightlight","all":"All"},"zh":{"header":"要点","all":"全部"}}')},"2f0c":function(t){t.exports=JSON.parse('{"en":{"title":"Dashboard","refresh":"Refresh","preferences":"Preferences"},"zh":{"title":"仪表盘","refresh":"刷新","preferences":"偏好设置"}}')},"3d14":function(t,e,a){},"3e1a":function(t,e,a){},"55fa":function(t){t.exports=JSON.parse('{"en":{"header":"Scanners"},"zh":{"header":"扫描器"}}')},"625f":function(t,e,a){"use strict";a("3d14")},7277:function(t,e,a){"use strict";a.r(e);var s=a("7a23");const c={class:"dashboard"};function n(t,e,a,n,r,o){const i=Object(s["E"])("material-icon-button"),l=Object(s["E"])("material-top-app-bar"),u=Object(s["E"])("material-top-app-bar-adjust"),d=Object(s["E"])("status"),b=Object(s["E"])("highlight"),h=Object(s["E"])("gallery"),O=Object(s["E"])("scanners"),j=Object(s["E"])("reasons");return Object(s["x"])(),Object(s["g"])(s["a"],null,[Object(s["k"])(l,{title:t.$t("title")},{default:Object(s["J"])(()=>[t.canRefresh?(Object(s["x"])(),Object(s["e"])(i,{key:0,icon:"redo",title:t.$t("refresh"),onClick:t.refresh},null,8,["title","onClick"])):Object(s["f"])("",!0),Object(s["k"])(i,{icon:"cog",title:t.$t("preferences"),onClick:t.openPreference},null,8,["title","onClick"])]),_:1},8,["title"]),Object(s["k"])(u),Object(s["h"])("main",c,[Object(s["k"])(d),t.empty?Object(s["f"])("",!0):(Object(s["x"])(),Object(s["e"])(b,{key:0})),t.empty?Object(s["f"])("",!0):(Object(s["x"])(),Object(s["e"])(h,{key:1})),t.empty?Object(s["f"])("",!0):(Object(s["x"])(),Object(s["e"])(O,{key:2})),t.empty?Object(s["f"])("",!0):(Object(s["x"])(),Object(s["e"])(j,{key:3}))])],64)}var r=a("9ab4"),o=a("1b40"),i=a("6022"),l=a("81dd"),u=a("2281"),d=a("4892");const b={class:"status"},h={key:1,class:"actions"};function O(t,e,a,c,n,r){const o=Object(s["E"])("linear-progress"),i=Object(s["E"])("material-icon-button");return Object(s["x"])(),Object(s["g"])("div",b,[t.showProgress?(Object(s["x"])(),Object(s["e"])(o,{key:0,text:t.$t(t.progressText),determinate:t.progressDeterminate},null,8,["text","determinate"])):Object(s["f"])("",!0),t.showActions?(Object(s["x"])(),Object(s["g"])("div",h,[t.showLinkButton?(Object(s["x"])(),Object(s["e"])(i,{key:0,icon:"sign-in-alt",title:t.$t("link"),onClick:t.link},null,8,["title","onClick"])):Object(s["f"])("",!0),t.showMatchButton?(Object(s["x"])(),Object(s["e"])(i,{key:1,icon:"user-check",title:t.$t("match"),onClick:t.match},null,8,["title","onClick"])):Object(s["f"])("",!0),t.showChartsButton?(Object(s["x"])(),Object(s["e"])(i,{key:2,icon:"chart-bar",title:t.$t("charts"),onClick:t.openCharts},null,8,["title","onClick"])):Object(s["f"])("",!0),t.showChartsButton?(Object(s["x"])(),Object(s["e"])(i,{key:3,icon:"brain",title:t.$t("brainstorming"),onClick:t.openBrainstorming},null,8,["title","onClick"])):Object(s["f"])("",!0)])):Object(s["f"])("",!0)])}var j=a("2e5e"),p=a("d43c"),g=a("075d");let m=class extends o["d"]{constructor(){super(...arguments),this.empty=!0}get saveID(){return this.$store.state.dia.saveID}get showProgress(){const t=this.$store.state.service.status;return t===i["b"].Status.processingMails||(t===i["b"].Status.queryingBrainstorming||(t===i["b"].Status.syncing||!(!this.empty||this.gapiLoaded)))}get progressText(){const t=this.$store.state.service.status;return t===i["b"].Status.processingMails?"processingMails":t===i["b"].Status.queryingBrainstorming?"queryingBrainstorming":t===i["b"].Status.syncing?"syncing":this.empty&&!this.gapiLoaded?"loadingGAPI":""}get progressDeterminate(){const t=this.$store.state.service.status;return t===i["b"].Status.processingMails?this.$store.state.progress.max>0:t===i["b"].Status.queryingBrainstorming}get showLinkButton(){return this.gapiLoaded&&!this.$store.state.google.authed}get showMatchButton(){return this.$store.state.service.status===i["b"].Status.requestMatch}get showChartsButton(){return!this.empty}get showActions(){return this.showLinkButton||this.showMatchButton||this.showChartsButton}get idle(){return this.$store.state.service.status===i["b"].Status.idle}get gapiLoaded(){return this.$store.state.google.loaded}created(){this.updateData()}onSaved(){this.updateData()}link(){i["b"].signIn()}match(){this.$router.push({path:"/match"})}openCharts(){this.$router.push({path:"/charts"})}openBrainstorming(){this.$router.push({path:"/brainstorming"})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=yield j["a"].count();this.empty=t<1}))}};Object(r["c"])([Object(o["e"])("saveID")],m.prototype,"onSaved",null),m=Object(r["c"])([Object(o["b"])({components:{MaterialIconButton:l["a"],LinearProgress:p["a"]},i18n:{messages:g}})],m);var f=m;a("d677");f.render=O;var v=f;const y={class:"card-grid"};function k(t,e,a,c,n,r){const o=Object(s["E"])("dashboard-card");return Object(s["x"])(),Object(s["g"])(s["a"],null,[Object(s["h"])("h2",null,Object(s["G"])(t.$t("header")),1),Object(s["h"])("div",y,[Object(s["k"])(o,{title:t.$t("all"),icon:"arrow-up",count:t.countAll,onClick:t.open},null,8,["title","count","onClick"]),(Object(s["x"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(t.dataset,e=>(Object(s["x"])(),Object(s["e"])(o,{key:e.status.code,title:e.status.title,icon:e.status.icon,count:e.count,onClick:a=>t.open(e.status)},null,8,["title","icon","count","onClick"]))),128))])],64)}var x=a("ce89");const D={class:"content"},C={class:"label"},S={class:"title"},$={class:"count"};function w(t,e,a,c,n,r){const o=Object(s["E"])("material-icon"),i=Object(s["E"])("material-card");return Object(s["x"])(),Object(s["e"])(i,{class:"dashboard-card"},{default:Object(s["J"])(()=>[Object(s["h"])("div",D,[Object(s["h"])("div",C,[Object(s["k"])(o,{icon:t.icon,"fixed-width":""},null,8,["icon"]),Object(s["h"])("span",S,Object(s["G"])(t.title),1)]),Object(s["h"])("div",$,Object(s["G"])(t.count),1)])]),_:1})}var B=a("e3a9"),I=a("7e13");let M=class extends o["d"]{};Object(r["c"])([Object(o["c"])(String)],M.prototype,"icon",void 0),Object(r["c"])([Object(o["c"])(String)],M.prototype,"title",void 0),Object(r["c"])([Object(o["c"])(Number)],M.prototype,"count",void 0),M=Object(r["c"])([Object(o["b"])({components:{MaterialCard:B["a"],MaterialIcon:I["a"]}})],M);var A=M;a("d101");A.render=w;var E=A,G=a("123d");let q=class extends o["d"]{constructor(){super(...arguments),this.countAll=0,this.dataset=[]}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}open(t){const e={path:"/list"};t&&(e.query={status:t.code}),this.$router.push(e)}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map;for(const a of x["a"].status.values())t.set(a.code,{status:a,count:0});const e=yield j["a"].getAll();for(const a of e){const e=t.get(a.status);e.count++}this.countAll=e.length,this.dataset=Array.from(t.values())}))}};Object(r["c"])([Object(o["e"])("saveID")],q.prototype,"onSaved",null),q=Object(r["c"])([Object(o["b"])({components:{DashboardCard:E},i18n:{messages:G}})],q);var P=q;P.render=k;var J=P;const L={class:"gallery"},N={class:"caption"};function _(t,e,a,c,n,r){const o=Object(s["E"])("material-icon"),i=Object(s["E"])("material-card");return Object(s["x"])(),Object(s["g"])(s["a"],null,[Object(s["h"])("h2",null,Object(s["G"])(t.$t("header")),1),Object(s["h"])("div",L,[(Object(s["x"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(t.nominations,e=>(Object(s["x"])(),Object(s["g"])("div",{key:e.id},[Object(s["k"])(i,{image:e.imageUrl,"square-image":"",onClick:a=>t.open(e.id)},{default:Object(s["J"])(()=>[Object(s["h"])("div",N,[Object(s["k"])(o,{icon:e.statusData.icon,"fixed-width":""},null,8,["icon"]),Object(s["h"])("span",null,Object(s["G"])(e.title),1)])]),_:2},1032,["image","onClick"])]))),128))])],64)}var R,T=a("a7a0"),z=a("a1cc");let U=R=class extends o["d"]{constructor(){super(...arguments),this.nominations=[]}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}open(t){this.$router.push({path:"/details",query:{id:t}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=yield j["a"].getAll(R.predicator);this.nominations=t.map(t=>T["a"].from(t)).sort(T["a"].comparatorByTime)}))}};U.datePast30Days=Date.now()-2592e6,U.predicator=t=>t.confirmedTime>R.datePast30Days||t.resultTime>R.datePast30Days,Object(r["c"])([Object(o["e"])("saveID")],U.prototype,"onSaved",null),U=R=Object(r["c"])([Object(o["b"])({components:{MaterialCard:B["a"],MaterialIcon:I["a"]},i18n:{messages:z}})],U);var H=U;a("c79b");H.render=_;var W=H;const Q={class:"card-grid"};function F(t,e,a,c,n,r){const o=Object(s["E"])("dashboard-card");return Object(s["x"])(),Object(s["g"])(s["a"],null,[Object(s["h"])("h2",null,Object(s["G"])(t.$t("header")),1),Object(s["h"])("div",Q,[(Object(s["x"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(t.dataset,e=>(Object(s["x"])(),Object(s["e"])(o,{key:e.scanner.code,title:e.scanner.title,icon:"mobile-alt",count:e.count,onClick:a=>t.open(e.scanner)},null,8,["title","count","onClick"]))),128))])],64)}var K=a("55fa");let V=class extends o["d"]{constructor(){super(...arguments),this.dataset=[]}created(){this.updateData()}onSaved(){this.updateData()}open(t){this.$router.push({path:"/list",query:{scanner:t.code}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map;for(const a of x["a"].scanner.values())a.code!==x["a"].ScannerCode.Unknown&&t.set(a.code,{scanner:a,count:0});const e=yield j["a"].getAll();for(const a of e){if(a.scanner===x["a"].ScannerCode.Unknown)continue;const e=t.get(a.scanner);e.count++}this.dataset=Array.from(t.values()).filter(t=>t.count>0).sort((t,e)=>t.scanner.code>e.scanner.code?1:-1)}))}};Object(r["c"])([Object(o["e"])("saveID")],V.prototype,"onSaved",null),V=Object(r["c"])([Object(o["b"])({components:{DashboardCard:E},i18n:{messages:K}})],V);var X=V;X.render=F;var Y=X;const Z={class:"title-with-action"},tt=Object(s["h"])("div",{class:"spacer"},null,-1),et={class:"card-grid"};function at(t,e,a,c,n,r){const o=Object(s["E"])("material-button"),i=Object(s["E"])("dashboard-card");return Object(s["x"])(),Object(s["g"])(s["a"],null,[Object(s["h"])("h2",Z,[Object(s["h"])("span",null,Object(s["G"])(t.$t("header")),1),tt,Object(s["k"])(o,{onClick:t.toggleMore},{default:Object(s["J"])(()=>[Object(s["j"])(Object(s["G"])(t.$t(t.more?"less":"more")),1)]),_:1},8,["onClick"])]),Object(s["h"])("div",et,[(Object(s["x"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(t.dataset,e=>(Object(s["x"])(),Object(s["e"])(i,{key:e.reason.code,title:e.reason.title,icon:e.reason.icon,count:e.count,onClick:a=>t.open(e.reason)},null,8,["title","icon","count","onClick"]))),128))])],64)}var st=a("1703"),ct=a("960b");let nt=class extends o["d"]{constructor(){super(...arguments),this.more=!1,this.datasetAll=[]}get saveID(){return this.$store.state.dia.saveID}get dataset(){return this.more?this.datasetAll:this.datasetAll.slice(0,4)}created(){this.updateData()}onSaved(){this.updateData()}toggleMore(){this.more=!this.more}open(t){this.$router.push({path:"/list",query:{reason:t.code}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=new Map,e=yield j["a"].getAll(x["a"].status.get(x["a"].StatusCode.Rejected).predicator);for(const a of x["a"].reason.values()){const s=e.filter(a.predicator).length;s<1||t.set(a.code,{reason:a,count:s})}this.datasetAll=Array.from(t.values())}))}};Object(r["c"])([Object(o["e"])("saveID")],nt.prototype,"onSaved",null),nt=Object(r["c"])([Object(o["b"])({components:{MaterialButton:st["a"],DashboardCard:E},i18n:{messages:ct}})],nt);var rt=nt;a("adc7");rt.render=at;var ot=rt,it=a("2f0c");let lt=class extends o["d"]{constructor(){super(...arguments),this.empty=!0}get canRefresh(){return this.$store.state.service.status===i["b"].Status.idle&&this.$store.state.google.authed}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}refresh(){i["b"].refresh()}openPreference(){this.$router.push({path:"/preferences"})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const t=yield j["a"].count();this.empty=t<1}))}};Object(r["c"])([Object(o["e"])("saveID")],lt.prototype,"onSaved",null),lt=Object(r["c"])([Object(o["b"])({components:{MaterialTopAppBar:u["a"],MaterialTopAppBarAdjust:d["a"],MaterialIconButton:l["a"],Status:v,Highlight:J,Gallery:W,Scanners:Y,Reasons:ot},i18n:{messages:it}})],lt);var ut=lt;a("625f");ut.render=n;e["default"]=ut},"7a76":function(t,e,a){},"7e13":function(t,e,a){"use strict";var s=a("7a23");function c(t,e,a,c,n,r){const o=Object(s["E"])("material-icon-raw");return Object(s["x"])(),Object(s["g"])("i",{class:Object(s["r"])(t.className)},[Object(s["k"])(o,{icon:t.icon},null,8,["icon"])],2)}var n=a("9ab4"),r=a("1b40"),o=a("bd16");let i=class extends r["d"]{get className(){let t="fa";return this.fixedWidth&&(t+=" fa-fw"),t}};Object(n["c"])([Object(r["c"])(String)],i.prototype,"icon",void 0),Object(n["c"])([Object(r["c"])(Boolean)],i.prototype,"fixedWidth",void 0),i=Object(n["c"])([Object(r["b"])({components:{MaterialIconRaw:o["a"]}})],i);var l=i;l.render=c;e["a"]=l},"8da0":function(t,e,a){},"8e15":function(t,e,a){"use strict";a("8da0")},"943d":function(t,e,a){},"958e":function(t,e,a){},"960b":function(t){t.exports=JSON.parse('{"en":{"header":"Reasons","more":"More","less":"Less"},"zh":{"header":"拒绝原因","more":"更多","less":"更少"}}')},a1cc:function(t){t.exports=JSON.parse('{"en":{"header":"Last 30 Days"},"zh":{"header":"近30天"}}')},adc7:function(t,e,a){"use strict";a("7a76")},c79b:function(t,e,a){"use strict";a("943d")},d101:function(t,e,a){"use strict";a("3e1a")},d677:function(t,e,a){"use strict";a("958e")},e3a9:function(t,e,a){"use strict";var s=a("7a23");const c={class:"mdc-card mdc-card--outlined"},n={class:"mdc-card__primary-action"};function r(t,e,a,r,o,i){return Object(s["x"])(),Object(s["g"])("div",c,[Object(s["h"])("div",n,[t.image?(Object(s["x"])(),Object(s["g"])("div",{key:0,class:Object(s["r"])(t.mediaClassName),style:Object(s["s"])(t.mediaStyle)},null,6)):Object(s["f"])("",!0),Object(s["D"])(t.$slots,"default")])])}var o=a("9ab4"),i=a("1b40");class l extends i["d"]{get mediaClassName(){return"mdc-card__media mdc-card__media--"+(this.squareImage?"square":"16-9")}get mediaStyle(){return this.image?`background-image: url("${this.image}")`:""}}Object(o["c"])([Object(i["c"])(String)],l.prototype,"image",void 0),Object(o["c"])([Object(i["c"])(Boolean)],l.prototype,"squareImage",void 0);a("8e15");l.render=r;e["a"]=l}}]);
//# sourceMappingURL=dashboard.a51c5a54.js.map