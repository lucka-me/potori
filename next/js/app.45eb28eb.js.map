{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/material/Button.vue","webpack:///./src/components/material/Button.vue?6b1b","webpack:///./src/components/material/Button.vue?9c32","webpack:///./src/service/dia/index.ts","webpack:///./src/components/material/Button.vue?8bab","webpack:///./src/service/delibird/index.ts","webpack:///./src/components/material/Snackbar.vue?19af","webpack:///./src/components/material/IconRaw.vue?7a99","webpack:///./src/service/google/index.ts","webpack:///./src/service/google/auth/index.ts","webpack:///./src/service/google/drive/index.ts","webpack:///./src/service/mari/parser.ts","webpack:///./src/service/mari/index.ts","webpack:///./src/service/index.ts","webpack:///./src/service/utils/index.ts","webpack:///./src/components/material/IconButton.vue","webpack:///./src/components/material/IconButton.vue?cac5","webpack:///./src/components/material/IconButton.vue?6ace","webpack:///./src/App.vue?99e2","webpack:///./src/service/nomination/index.ts","webpack:///./src/service/brainstorming/index.ts","webpack:///./src/service/preferences/index.ts","webpack:///./src/components/material/Dialog.vue?a49e","webpack:///./src/components/material/IconRaw.vue","webpack:///./src/components/material/IconRaw.vue?4db4","webpack:///./src/components/material/IconRaw.vue?950b","webpack:///./src/App.vue","webpack:///./src/components/material/Dialog.vue","webpack:///./src/components/material/DialogAction.vue","webpack:///./src/components/material/DialogAction.vue?dfd3","webpack:///./src/components/material/DialogAction.vue?c9dd","webpack:///./src/components/material/Dialog.vue?76f8","webpack:///./src/components/material/Dialog.vue?bd7a","webpack:///./src/components/material/Snackbar.vue","webpack:///./src/components/material/Snackbar.vue?2826","webpack:///./src/components/material/Snackbar.vue?b275","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?eabf","webpack:///./src/locales/index.ts","webpack:///./src/router/index.ts","webpack:///./src/store/modules/google/index.ts","webpack:///./src/store/modules/dia/index.ts","webpack:///./src/store/modules/progress/index.ts","webpack:///./src/store/modules/service/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/service/umi/index.ts","webpack:///./src/components/material/IconButton.vue?cf57"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","class","className","this","outlined","raised","ctrl","attachTo","$el","unbounded","destroy","Boolean","render","dia","databaseName","databaseVersion","storeName","_store","database","init","store","indexedDB","open","onsuccess","commit","onupgradeneeded","createObjectStore","keyPath","autoIncrement","count","predicator","getStore","settled","list","getAll","filter","id","save","nomination","put","saved","saveAll","nominations","allSettled","map","remove","delete","clear","transaction","objectStore","delibird","alert","events","inform","AuthKit","authStatusChanged","navigator","onLine","gapi","load","initClient","client","apiKey","clientId","discoveryDocs","scope","join","auth2","getAuthInstance","isSignedIn","listen","signedIn","currentUser","getAuthResponse","access_token","signIn","signOut","ids","Map","filename","validator","listResponse","drive","files","q","pageSize","spaces","folder","fields","file","fileResponse","fileId","alt","solidFile","set","mimeType","blob","token","url","method","metadata","has","parents","form","FormData","append","Blob","JSON","stringify","authHeader","response","responseRaw","fetch","headers","Headers","Authorization","body","json","google","loadScript","auth","authed","ServiceStatus","parser","parse","mail","status","scanner","umi","StatusCode","Pending","confirmedTime","parseInt","internalDate","confirmationMailId","resultTime","resultMailId","header","payload","matched","match","title","trim","part","parts","partId","mailBody","base64","image","parseId","ScannerCode","Redacted","lngLat","Rejected","reasons","reason","raw","matchedMainBody","mainBody","indexReasons","keywords","keyword","pos","search","sort","a","b","pair","lng","parseFloat","lat","text","unescape","decodeURIComponent","escape","atob","replace","ProgressItem","total","finished","Progress","callback","lists","messages","onProgress","left","mari","start","raws","progress","ignoreIds","flatMap","queryAfter","preferences","general","queryAfterLatest","latest","Math","floor","reduce","time","max","queries","values","keys","query","addList","pageToken","gmail","users","userId","filtered","includes","nextPageToken","finishList","format","metadataHeaders","fullMail","subject","details","typedError","stack","finishMessage","service","Filename","Status","mimeJSON","i18n","addEventListener","errorEvent","errors","serviceWorker","register","brainstorming","refresh","sync","download","setProgress","setStatus","processingMails","matchTargets","reduced","log","from","merged","merge","Array","autoQueryFirebase","queryBrainstorming","upload","idle","updateBrainstorming","queryingBrainstorming","update","syncing","getNominationsJSONBlod","accessToken","migrate","legacy","importNominationsFile","content","importFile","importNominations","exportNominationsFile","exportFile","importWayfarerJSON","parsed","mapNomination","imageUrl","targets","pendings","packs","checkScanner","Unknown","candidates","selected","matchData","pack","candidate","requestMatch","record","catch","finally","forEach","sources","jsons","util","copy","textarea","readOnly","select","execCommand","anchor","URL","createObjectURL","hidden","click","input","accept","fileReader","FileReader","readAsText","defer","icon","String","components","MaterialIconRaw","ParseErrorReason","Nomination","MISSING_ID","MISSING_TITLE","MISSING_IMAGE","test","INVALID_ID","INVALID_IMAGE","Accepted","Reason","undeclared","timestampSecondBound","imgUrl","toLowerCase","comparatorByTime","timeA","timeB","FailReason","reference","beforeCreate","EARLY","queryDatabase","queryFirebase","NOT_EXISTS","succeed","processed","getFromLocal","contains","importDatabase","size","exportDatabase","pairs","INDEXEDDB_ERROR","firebase","_","FIREBASE_ERROR","app","default","initializeApp","databaseURL","ref","child","once","val","localStorage","setItem","def","getItem","keyQueryAfterLatest","setQueryAfterLatest","keySync","setSync","keyAutoQueryFirebase","setAutoQueryFirebase","symbol","IconSymbolMap","nameRegex","alertOpen","alertMessage","informMessage","informOpen","role","aria-modal","$t","action","as-default","data-mdc-dialog-action","data-mdc-dialog-button-default","asDefault","MaterialButton","newVal","$emit","isOpen","close","MaterialDialogAction","aria-relevant","aria-atomic","labelText","MaterialIconButton","MaterialDialog","MaterialSnackbar","en","zh","routes","path","component","router","history","googleModule","namespaced","state","loaded","mutations","diaModule","saveID","progressModule","serviceModule","locale","language","fallbackLocale","locales","global","use","mount","Scanner","color","indexOf","scanners","item","statuses","iconFA","duplicated","version"],"mappings":"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","file":"js/app.45eb28eb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"brainstorming~charts~dashboard~details~list~map~match~preferences\":\"brainstorming~charts~dashboard~details~list~map~match~preferences\",\"brainstorming~charts\":\"brainstorming~charts\",\"brainstorming~dashboard\":\"brainstorming~dashboard\",\"brainstorming\":\"brainstorming\",\"charts\":\"charts\",\"dashboard\":\"dashboard\",\"details~map\":\"details~map\",\"details\":\"details\",\"map\":\"map\",\"list\":\"list\",\"match\":\"match\",\"preferences\":\"preferences\",\"firebase\":\"firebase\",\"mapbox\":\"mapbox\"}[chunkId]||chunkId) + \".\" + {\"brainstorming~charts~dashboard~details~list~map~match~preferences\":\"ceff8e47\",\"brainstorming~charts\":\"cede169b\",\"brainstorming~dashboard\":\"d55674e3\",\"brainstorming\":\"60f35a9e\",\"charts\":\"acbba1ce\",\"dashboard\":\"78ac0962\",\"details~map\":\"085d37d2\",\"details\":\"6c3606f3\",\"map\":\"efbc28c2\",\"list\":\"6da17a83\",\"match\":\"4ecdd57c\",\"preferences\":\"fa9fd7a0\",\"firebase\":\"8d2f272a\",\"mapbox\":\"37414d4f\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"brainstorming~charts~dashboard~details~list~map~match~preferences\":1,\"brainstorming~charts\":1,\"brainstorming~dashboard\":1,\"brainstorming\":1,\"charts\":1,\"dashboard\":1,\"details~map\":1,\"details\":1,\"map\":1,\"list\":1,\"match\":1,\"preferences\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"brainstorming~charts~dashboard~details~list~map~match~preferences\":\"brainstorming~charts~dashboard~details~list~map~match~preferences\",\"brainstorming~charts\":\"brainstorming~charts\",\"brainstorming~dashboard\":\"brainstorming~dashboard\",\"brainstorming\":\"brainstorming\",\"charts\":\"charts\",\"dashboard\":\"dashboard\",\"details~map\":\"details~map\",\"details\":\"details\",\"map\":\"map\",\"list\":\"list\",\"match\":\"match\",\"preferences\":\"preferences\",\"firebase\":\"firebase\",\"mapbox\":\"mapbox\"}[chunkId]||chunkId) + \".\" + {\"brainstorming~charts~dashboard~details~list~map~match~preferences\":\"456360f3\",\"brainstorming~charts\":\"5109a264\",\"brainstorming~dashboard\":\"abfe8bd8\",\"brainstorming\":\"2454f1eb\",\"charts\":\"a8695c17\",\"dashboard\":\"c8a23613\",\"details~map\":\"f18d09a4\",\"details\":\"e45c7c88\",\"map\":\"dc687b38\",\"list\":\"6a9f041e\",\"match\":\"4e5ee524\",\"preferences\":\"a2815486\",\"firebase\":\"31d6cfe0\",\"mapbox\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/next/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n<button :class=\"className\">\n    <span class=\"mdc-button__ripple\"></span>\n    <span class=\"mdc-button__label\"><slot/></span>\n</button>\n</template>\n\n<script lang=\"ts\">\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Prop } from 'vue-property-decorator';\n\nexport default class MaterialButton extends Vue {\n\n    @Prop(Boolean) readonly outlined?: boolean;\n    @Prop(Boolean) readonly raised?: boolean;\n\n    private ctrl?: MDCRipple;\n\n    get className(): string {\n        let name = 'mdc-button';\n        if (this.outlined) {\n            name += ' mdc-button--outlined';\n        } else if (this.raised) {\n            name += ' mdc-button--raised';\n        }\n        return name;\n    }\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use '~@material/button/styles';\n</style>","\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Prop } from 'vue-property-decorator';\n\nexport default class MaterialButton extends Vue {\n\n    @Prop(Boolean) readonly outlined?: boolean;\n    @Prop(Boolean) readonly raised?: boolean;\n\n    private ctrl?: MDCRipple;\n\n    get className(): string {\n        let name = 'mdc-button';\n        if (this.outlined) {\n            name += ' mdc-button--outlined';\n        } else if (this.raised) {\n            name += ' mdc-button--raised';\n        }\n        return name;\n    }\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Button.vue?vue&type=template&id=79013cda\"\nimport script from \"./Button.vue?vue&type=script&lang=ts\"\nexport * from \"./Button.vue?vue&type=script&lang=ts\"\n\nimport \"./Button.vue?vue&type=style&index=0&id=79013cda&lang=scss\"\nscript.render = render\n\nexport default script","import { Store } from 'vuex';\nimport { State } from '@/store/state';\n\nimport { NominationRAW, Predicator } from '@/service/nomination';\n\nexport namespace dia {\n\n    const databaseName = 'potori';\n    const databaseVersion = 1;\n    const storeName = 'nomination';\n\n    let _store: Store<State>;\n    let database: IDBDatabase | undefined = undefined;\n\n    export function init(store: Store<State>) {\n        _store = store;\n        const request = window.indexedDB.open(databaseName, databaseVersion);\n        return new Promise<boolean>((resolve, reject) => {\n            request.onsuccess = () => {\n                database = request.result;\n                _store.commit('dia/saved');\n                resolve(true);\n            };\n            request.onerror = () => reject(request.error);\n            request.onupgradeneeded = () => {\n                request.result.createObjectStore(storeName, {\n                    keyPath: 'id', autoIncrement: false\n                });\n            };\n        });\n    }\n\n    export async function count(predicator?: Predicator): Promise<number> {\n        const store = getStore('readonly');\n        if (!store) return 0;\n        if (!predicator) return await settled(store.count()) ?? 0;\n        const list = await settled(store.getAll());\n        if (!list) return 0;\n        return list.filter(predicator).length;\n    }\n\n    export async function get(id: string): Promise<NominationRAW | undefined> {\n        const store = getStore('readonly');\n        if (!store) return;\n        return await settled(store.get(id));\n    }\n\n    export async function getAll(predicator?: Predicator): Promise<Array<NominationRAW>> {\n        const store = getStore('readonly');\n        if (!store) return [];\n        let list = await settled(store.getAll()) ?? [];\n        if (predicator) list = list.filter(predicator);\n        return list;\n    }\n\n    export async function save(nomination: NominationRAW) {\n        const store = getStore('readwrite');\n        if (!store) return;\n        const result = await settled(store.put(nomination));\n        if (typeof result !== 'undefined') saved();\n    }\n\n    export async function saveAll(nominations: Array<NominationRAW>) {\n        await Promise.allSettled(nominations.map(nomination => save(nomination)));\n        saved();\n    }\n\n    export async function remove(id: string) {\n        const store = getStore('readwrite');\n        if (!store) return;\n        await settled(store.delete(id));\n        saved();\n    }\n\n    export async function clear() {\n        const store = getStore('readwrite');\n        if (!store) return;\n        await settled(store.clear());\n        saved();\n    }\n\n    function getStore(mode: IDBTransactionMode): IDBObjectStore | undefined {\n        if (!database) return;\n        return database.transaction([ storeName ], mode).objectStore(storeName);\n    }\n\n    function settled<T>(request: IDBRequest<T>) {\n        return new Promise<T | undefined>((resolve) => {\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => resolve(undefined);\n        });\n    }\n\n    function saved() {\n        _store.commit('dia/saved');\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Button.vue?vue&type=style&index=0&id=79013cda&lang=scss\"","import { MessageCallback } from '@/service/types';\n\nexport namespace delibird {\n    interface Events {\n        alert   : MessageCallback,  // Triggered when alert raised\n        inform  : MessageCallback,  // Triggered when some information should be passed to user\n    }\n\n    export const events: Events = {\n        alert   : () => { },\n        inform  : () => { },\n    }\n\n    export function alert(message: string) {\n        events.alert(message);\n    }\n\n    export function inform(message: string) {\n        events.inform(message);\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Snackbar.vue?vue&type=style&index=0&id=12cf8ebd&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IconRaw.vue?vue&type=style&index=0&id=cd6e7afa&lang=scss\"","import { Store } from 'vuex'\n\nimport type { State } from '@/store/state';\nimport { util } from '@/service/utils';\nimport AuthKit from './auth';\nimport GoogleDriveKit from './drive';\n\nexport namespace google {\n\n    export const auth = new AuthKit();\n    export const drive = new GoogleDriveKit();\n\n    export async function init(store: Store<State>) {\n        await util.loadScript('https://apis.google.com/js/api.js');\n        auth.events.authStatusChanged = (authed) => {\n            store.commit('google/setAuthed', authed);\n            store.commit('google/loaded');\n        };\n        auth.init();\n    }\n}","export type AuthStatusChangedCallback = (signedIn: boolean) => void;\ntype ErrorCallback = (message: string) => void;\n\n/**\n * Events for {@link AuthKit}\n */\ninterface AuthKitEvents {\n    authStatusChanged: AuthStatusChangedCallback;   // Triggered when sign-in or sign-out\n    error: ErrorCallback;   // Triggered when gapi.auth error occures\n}\n\n/**\n * Handle GAPI authentication\n */\nexport default class AuthKit {\n\n    events: AuthKitEvents = {\n        authStatusChanged: () => { },\n        error: () => { },\n    };\n\n    init() {\n        if (navigator.onLine) {\n            gapi.load('client:auth2', () => this.initClient());\n        }\n    }\n\n    /**\n     * Initialize the GAPI and load client libraries\n     */\n    private initClient() {\n        gapi.client.init({\n            apiKey: 'AIzaSyCqIaS8UizqjWrIKm5zV3_S8EffCWjKR-A',\n            clientId: '361295761775-qshg0f5buh495dhubp4v5bignk7i5dh1.apps.googleusercontent.com',\n            discoveryDocs: [\n                'https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest',\n                'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'\n            ],\n            scope: [\n                'https://www.googleapis.com/auth/gmail.readonly',\n                'https://www.googleapis.com/auth/drive.file',\n                'https://www.googleapis.com/auth/drive.appdata'\n            ].join(' '),\n        }).then(\n            () => {\n                // Listen for sign-in state changes.\n                gapi.auth2.getAuthInstance().isSignedIn.listen(this.events.authStatusChanged);\n                // Handle the initial sign-in state.\n                this.events.authStatusChanged(this.signedIn);\n            },\n            this.events.error\n        );\n    }\n\n    /**\n     * Get authentication status, signed in or not\n     */\n    get signedIn() {\n        return navigator.onLine && gapi.auth2.getAuthInstance().isSignedIn.get();\n    }\n\n    /**\n     * Get the token for accessing the account\n     */\n    get accessToken() {\n        return gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;\n    }\n\n    /**\n     * Sign in\n     */\n    signIn() {\n        gapi.auth2.getAuthInstance().signIn();\n    }\n\n    /**\n     * Sign out\n     */\n    signOut() {\n        gapi.auth2.getAuthInstance().signOut();\n    }\n}","type FileValidator = (file: gapi.client.drive.File) => boolean;\n\n/**\n * Download and upload from / to Google Drive\n */\nexport default class GoogleDriveKit {\n\n    private static readonly folder = 'appDataFolder';   // The private folder in Google Drive\n\n    private ids: Map<string, string> = new Map();   // ID of files, <filename, id>\n\n    /**\n     * Download file from Google Drive.\n     * \n     * The caller should decide whether to delete the current one & download\n     * next one or not by return a boolean\n     * \n     * @param filename Name of the file to download\n     * @param validator Triggered when a file is downloaded\n     */\n    async download(filename: string, validator: FileValidator) {\n        const listResponse = await gapi.client.drive.files.list({\n            q: `name = '${filename}'`,\n            pageSize: 10,\n            spaces: GoogleDriveKit.folder,\n            fields: 'files(id)'\n        });\n        if (!listResponse.result.files) return undefined;\n        const list = listResponse.result.files;\n        for (const file of list) {\n            if (!file.id) continue;\n            const fileResponse = await gapi.client.drive.files.get({\n                fileId: file.id,\n                alt: 'media'\n            });\n            const solidFile = fileResponse.result;\n            if (validator(solidFile)) {\n                this.ids.set(filename, file.id);\n                return solidFile;\n            }\n            gapi.client.drive.files.delete({ fileId: file.id })\n        }\n    }\n\n    /**\n     * Upload file to Google Drive\n     * @param filename Filename to upload\n     * @param mimeType MIME type of the file\n     * @param blob Content to upload\n     * @param token The Google account access token\n     * @param callback Triggered when process finished\n     */\n    async upload(filename: string, mimeType: string, blob: Blob, token: string) {\n        // Ref: https://gist.github.com/tanaikech/bd53b366aedef70e35a35f449c51eced\n        let url = '';\n        let method = '';\n        const metadata: any = {\n            name: filename,\n            mimeType: mimeType,\n        };\n        // Using parent in Update will cause 403\n        if (this.ids.has(filename)) {\n            method = 'PATCH';\n            url = `https://www.googleapis.com/upload/drive/v3/files/${this.ids.get(filename)}?uploadType=multipart`;\n        } else {\n            method = 'POST';\n            url = 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart';\n            metadata.parents = [ GoogleDriveKit.folder ];\n        }\n        const form = new FormData();\n        form.append('metadata', new Blob([JSON.stringify(metadata)], { type: mimeType }));\n        form.append('file', blob);\n        const authHeader = `Bearer ${token}`;\n        let response: any | undefined;\n        try {\n            const responseRaw = await fetch(url, {\n                method: method,\n                headers: new Headers({ Authorization: authHeader }),\n                body: form,\n            });\n            response = await responseRaw.json();\n        } catch {\n            return false;\n        }\n        if (!response || typeof response.id !== 'string') return false;\n        this.ids.set(filename, response.id);\n        return true;\n    }\n}","import { umi } from '@/service/umi';\nimport Nomination, { NominationRAW, LngLat } from '@/service/nomination';\n\n/**\n * Parsers for mail content\n */\nexport namespace parser {\n    /**\n     * Parse the full mail to nomination\n     * @param mail The full mail to parse\n     * @param status Statue of the mail\n     * @param scanner Scanner of the mail\n     * @returns The parsed nomination\n     */\n    export function parse(\n        mail: gapi.client.gmail.Message,\n        status: umi.StatusCode,\n        scanner: umi.ScannerCode\n    ): NominationRAW {\n        const nomination = new Nomination();\n        nomination.status = status;\n        nomination.scanner = scanner;\n        if (status === umi.StatusCode.Pending) {\n            nomination.confirmedTime = parseInt(mail.internalDate!);\n            nomination.confirmationMailId = mail.id!;\n        } else {\n            nomination.resultTime = parseInt(mail.internalDate!);\n            nomination.resultMailId = mail.id!;\n        }\n\n        // Subject -> Title\n        for (const header of mail.payload!.headers!) {\n            if (header.name === 'Subject') {\n                const matched = header.value!.match(/[:](.+)/);\n                if (matched && matched.length > 1) {\n                    nomination.title = matched[1].trim();\n                }\n                break;\n            }\n        }\n\n        // Body -> image, id, lngLat and reason\n        for (const part of mail.payload!.parts!) {\n            if (part.partId !== '1') continue;\n            const mailBody = base64(part.body!.data!);\n            const matched = mailBody.match(/(?:googleusercontent|ggpht)\\.com\\/([0-9a-zA-Z\\-\\_]+)/);\n            if (matched && matched.length > 1) {\n                nomination.image = matched[1];\n                nomination.id = Nomination.parseId(nomination.image);\n            }\n            if (scanner === umi.ScannerCode.Redacted && status !== umi.StatusCode.Pending) {\n                nomination.lngLat = lngLat(mailBody);\n            }\n            if (status === umi.StatusCode.Rejected) {\n                nomination.status = umi.StatusCode.Rejected;\n                nomination.reasons = reason(mailBody, scanner);\n            }\n            break;\n        }\n        return nomination.raw;\n    }\n\n    /**\n     * Parse the reject reason from mail body\n     * @param mail Body (content) of the mail\n     * @param scanner The scanner key for fetch the keywords\n     */\n    function reason(mail: string, scanner: umi.ScannerCode): Array<umi.ReasonCode> {\n        const matchedMainBody = mail.match(/(\\n|\\r|.)+?\\-NianticOps/);\n        if (!matchedMainBody || matchedMainBody.length < 1) {\n            return [ ];\n        }\n        const mainBody = matchedMainBody[0];\n\n        const indexReasons: Array<[number, umi.ReasonCode]> = []\n        for (const [code, reason] of umi.reason) {\n            const keywords = reason.keywords.get(scanner);\n            if (!keywords) continue;\n            for (const keyword of keywords) {\n                const pos = mainBody.search(keyword);\n                if (pos < 0) continue;\n                indexReasons.push([pos, code]);\n                break;\n            }\n        }\n        return indexReasons\n            .sort((a, b) => a[0] > b[0] ? 1 : -1)\n            .map((pair) => pair[1]);\n    }\n\n    /**\n     * Parse the location from mail body, only redacted mails contain location\n     * @param mail Body (content) of the mail\n     */\n    function lngLat(mail: string): LngLat | undefined {\n        const matched = mail.match(/www\\.ingress\\.com\\/intel\\?ll\\=([\\.\\d]+),([\\.\\d]+)/);\n        if (!matched || matched.length < 3) {\n            return undefined;\n        }\n        return {\n            lng: parseFloat(matched[2]),\n            lat: parseFloat(matched[1])\n        };\n    }\n\n    /**\n     * Decode base64\n     * @param text Base64 encoded text\n     * @see https://nelluil.postach.io/post/btoa-atob-zhi-yuan-zhong-wen-de-fang-fa\n     * @see https://cnodejs.org/topic/4fd6b7ba839e1e581407aac8\n     */\n    function base64(text: string) {\n        return unescape(\n            decodeURIComponent(\n                escape(window.atob(text.replace(/\\-/g, '+').replace(/\\_/g, '/')))\n            )\n        );\n    }\n}","import { delibird } from '@/service/delibird';\nimport { preferences } from '@/service/preferences';\nimport { umi } from '@/service/umi';\nimport { NominationRAW } from '@/service/nomination';\nimport { ProgressCallback } from '@/service/types';\n\nimport { parser } from './parser';\n\n/**\n * Item of {@link Progress}\n */\nclass ProgressItem {\n    total: number = 0;\n    finished: number = 0;\n\n    clear() {\n        this.total = 0;\n        this.finished = 0;\n    }\n\n    /**\n     * Detect if the progress is not 100%\n     */\n    get left() {\n        return this.finished < this.total;\n    }\n}\n\n/**\n * Manage the progress of mail processing\n */\nclass Progress {\n\n    lists = new ProgressItem();\n    messages = new ProgressItem();\n\n    onProgress  : ProgressCallback  = () => { };    // Triggered when a message finished if all lists are finished\n\n    constructor(callback: ProgressCallback) {\n        this.onProgress = callback;\n    }\n\n    /**\n     * Add a WIP list\n     */\n    addList() {\n        this.lists.total += 1;\n        this.onProgress(0, this.lists.total);\n    }\n\n    /**\n     * Finish a list and check finish\n     * @param messages Count of the messages to process\n     */\n    finishList(messages: number) {\n        this.lists.finished += 1;\n        this.messages.total += messages;\n        this.onProgress(this.lists.finished, this.lists.total);\n    }\n\n    /**\n     * Finish a message and check finish\n     */\n    finishMessage() {\n        this.messages.finished += 1;\n        if (!this.lists.left) {\n            this.onProgress(this.messages.finished, this.messages.total);\n        }\n    }\n}\n\n/**\n * Query and process mails\n */\nexport namespace mari {\n\n    /**\n     * Start the process\n     * @param nominations Existing nominations\n     */\n    export async function start(raws: Array<NominationRAW>, onProgress: ProgressCallback) {\n        const progress = new Progress(onProgress);\n\n        // Ignore the mails already in the list\n        const ignoreIds = raws.flatMap(nomination => {\n            return nomination.resultMailId.length > 0 \n                ? [ nomination.confirmationMailId, nomination.resultMailId ] : [ nomination.confirmationMailId ];\n        });\n        let queryAfter = '';\n        if (preferences.general.queryAfterLatest()) {\n            const latest = Math.floor(raws.reduce((time, nomination) => {\n                return Math.max(time, nomination.confirmedTime, nomination.resultTime)\n            }, 0) / 1000);\n            queryAfter = ` after:${latest}`;\n        }\n        const queries: Array<Promise<void>> = [];\n        for (const status of umi.status.values()) {\n            for (const scanner of status.queries.keys()) {\n                queries.push(query(raws, progress, status, scanner, queryAfter, ignoreIds));\n            }\n        }\n        await Promise.allSettled(queries);\n        return;\n    }\n\n    /**\n     * Start to query message list\n     * @param raws Nomination list to fill\n     * @param progress Progress manager\n     * @param status Status to query\n     * @param scanner Scanner to query\n     */\n    async function query(\n        raws: Array<NominationRAW>, progress: Progress,\n        status: umi.Status, scanner: umi.ScannerCode,\n        queryAfter: string,  ignoreIds: Array<string>\n    ) {\n        progress.addList();\n        // Query ID list\n        const ids: Array<string> = [];\n        let pageToken: string | undefined = undefined;\n        do {\n            type ListResponse = gapi.client.Response<gapi.client.gmail.ListMessagesResponse>;\n            const response: ListResponse = await gapi.client.gmail.users.messages.list({\n                userId: 'me',\n                q: `${status.queries.get(scanner)!}${queryAfter}`,\n                pageToken: pageToken\n            });\n            if (!response) break;\n            if (response.result.messages) {\n                const filtered = response.result.messages.filter(message => {\n                    if (!message.id) return false;\n                    return !ignoreIds.includes(message.id);\n                }).map(message => message.id!);\n                ids.push(...filtered);\n            }\n            pageToken = response.result.nextPageToken;\n        } while (pageToken);\n        progress.finishList(ids.length);\n        // Query and parse mails\n        for (const id of ids) {\n            const response = await gapi.client.gmail.users.messages.get({\n                userId: 'me',\n                id: id,\n                format: 'full',\n                metadataHeaders: 'Subject'\n            });\n            if (!response) continue;\n            const fullMail = response.result;\n            try {\n                raws.push(parser.parse(fullMail, status.code, scanner));\n            } catch (error) {\n                let subject = '';\n                for (const header of fullMail.payload!.headers!) {\n                    if (header.name === 'Subject') {\n                        subject = header.value!;\n                        break;\n                    }\n                }\n                let details: string = error;\n                if ('message' in error) {\n                    const typedError = error as Error;\n                    details = typedError.stack || typedError.message;\n                }\n                delibird.alert(`An error occurs when parsing mail, you may report the mail ${subject}  with this message to developers: [${status}:${scanner}]${details}`);\n            }\n            progress.finishMessage();\n        }\n        return;\n    }\n}","import type { VueI18n } from 'vue-i18n';\nimport { Store } from 'vuex'\n\nimport type { State } from '@/store/state';\nimport { brainstorming } from './brainstorming';\nimport { dia } from './dia';\nimport { google } from './google';\nimport { mari } from './mari';\nimport { preferences } from './preferences';\nimport { umi } from './umi';\nimport { util } from './utils';\nimport { CountCallback } from './types';\nimport Nomination, { NominationRAW, NominationJSON } from './nomination';\n\nexport enum ServiceStatus {\n    idle,\n    processingMails,\n    requestMatch,\n    queryingBrainstorming,\n    syncing\n}\n\nexport namespace service {\n\n    export import Status = ServiceStatus;\n\n    enum Filename {\n        nominations = 'nominations.json',\n        legacy = 'potori.json'\n    }\n\n    export interface MatchPack {\n        target: Nomination;\n        candidates: Array<Nomination>;\n        selected: string;\n    }\n\n    export interface MatchData {\n        packs: Array<MatchPack>;\n        callback: () => void;\n    }\n\n    const mimeJSON = 'application/json';\n\n    let _store: Store<State>;\n\n    export const matchData: MatchData = {\n        packs: [],\n        callback: () => { }\n    };\n\n    export const errors: Array<ErrorEvent> = [];\n\n    export function init(store: Store<State>, i18n: VueI18n<unknown, unknown, unknown>) {\n        _store = store;\n\n        window.addEventListener('error', errorEvent => errors.push(errorEvent));\n        if ('serviceWorker' in navigator) {\n            window.addEventListener('load', () => navigator.serviceWorker.register('./service-worker.js'));\n        }\n\n        dia.init(_store);\n        brainstorming.init();\n        umi.init(i18n);\n        google.init(_store);\n    }\n\n    export function signIn() {\n        google.auth.signIn();\n    }\n\n    export function signOut() {\n        google.auth.signOut();\n    }\n\n    export async function refresh() {\n        if (preferences.google.sync()) await download(Filename.nominations);\n        setProgress(0, 0);\n        setStatus(Status.processingMails);\n        const raws = await dia.getAll();\n        await mari.start(raws, setProgress);\n        const matchTargets: Array<Nomination> = [];\n        const reduced = raws.reduce((list, raw) => {\n            if (raw.id.length < 1) {\n                console.log(`service.arrange: Need match: #${raw.id}[${raw.title}]`);\n                matchTargets.push(Nomination.from(raw));\n                return list;\n            }\n            // Merge\n            let merged = false;\n\n            for (const target of list) {\n                if (target.merge(raw)) {\n                    merged = true;\n                    break;\n                }\n            }\n            if (!merged) {\n                list.push(Nomination.from(raw));\n            }\n            return list;\n        }, new Array<Nomination>());\n        console.log(`service.arrange: ${raws.length} reduced to ${reduced.length}`);\n        if (matchTargets.length > 0) {\n            await match(matchTargets, reduced);\n        }\n        if (preferences.brainstorming.autoQueryFirebase()) {\n            await queryBrainstorming(reduced);\n        }\n        if (preferences.google.sync()) {\n            await upload();\n        }\n        await dia.saveAll(reduced);\n        setStatus(Status.idle);\n    }\n\n    export async function updateBrainstorming() {\n        setProgress(0, 0);\n        setStatus(Status.queryingBrainstorming);\n        const count = await brainstorming.update(await dia.getAll(), (progress, max) => {\n            setProgress(progress, max);\n        });\n        setStatus(Status.idle);\n        return count;\n    }\n\n    export async function sync() {\n        await download(Filename.nominations);\n        await upload();\n    }\n\n    export async function upload() {\n        setStatus(Status.syncing);\n        const blob = await getNominationsJSONBlod();\n        await google.drive.upload(Filename.nominations, mimeJSON, blob, google.auth.accessToken);\n        setStatus(Status.idle);\n    }\n\n    export function migrate(callback: CountCallback) {\n        download(Filename.legacy).then(count => {\n            setStatus(Status.idle);\n            callback(count);\n        })\n    }\n\n    export async function importNominationsFile(): Promise<number> {\n        const content = await util.importFile();\n        try {\n            const list = JSON.parse(content) as Array<NominationRAW>;\n            const count = await importNominations(list);\n            return count;\n        } catch (error) {\n            return 0;\n        }\n    }\n\n    export async function exportNominationsFile() {\n        const blob = await getNominationsJSONBlod();\n        util.exportFile(Filename.nominations, blob);\n    }\n\n    /**\n     * Import JSON from Wayfarer API response\n     * \n     * Error codes\n     * - `-1` Parse error\n     * - `-2` Invalid data\n     * @param json Raw JSON\n     * @returns Count of updated nominations or error code\n     */\n    export async function importWayfarerJSON(json: string): Promise<number> {\n        let parsed;\n        try {\n            parsed = JSON.parse(json);\n        } catch (error) {\n            // Parse error\n            return -1;\n        }\n        if (!parsed.result || parsed.result.length < 1) {\n            // Invalid data\n            return -2;\n        }\n\n        const nominations = await dia.getAll();\n        const mapNomination = nominations.reduce((map, nomination) => {\n            map.set(nomination.id, nomination);\n            return map;\n        }, new Map<string, NominationRAW>());\n        \n        let count = 0;\n        for (const data of parsed.result) {\n            const id = Nomination.parseId(data.imageUrl);\n            const nomination = mapNomination.get(id);\n            if (!nomination) continue;\n            nomination.title = data.title;\n            nomination.lngLat = {\n                lng: parseFloat(data.lng),\n                lat: parseFloat(data.lat)\n            };\n            count += 1;\n        }\n        await dia.saveAll(nominations);\n        return count;\n    }\n\n    /**\n     * Some result mails don't contain image URL, should match from pending nominations manually.\n     * @param targets Nominations without image\n     * @param list Normal nominations\n     */\n    async function match(targets: Array<Nomination>, list: Array<Nomination>) {\n        const pendings = list.filter(umi.status.get(umi.StatusCode.Pending)!.predicator);\n        const packs: Array<MatchPack> = [];\n        for (const target of targets) {\n            const checkScanner = target.scanner !== umi.ScannerCode.Unknown;\n            const candidates = pendings.filter((nomination) => {\n                if (nomination.title !== target.title) return false;\n                if (nomination.confirmedTime >= target.resultTime) return false;\n                if (checkScanner && nomination.scanner !== umi.ScannerCode.Unknown && nomination.scanner !== nomination.scanner) return false;\n                return true;\n            });\n            if (candidates.length < 1) continue;\n            packs.push({ target: target, candidates: candidates, selected: '' });\n        }\n        return new Promise<void>((resolve) => {\n            if (packs.length < 1) {\n                resolve();\n                return;\n            }\n            matchData.packs = packs;\n            matchData.callback = () => {\n                matchData.callback = () => { };\n                for (const pack of matchData.packs) {\n                    if (pack.selected.length < 1) continue;\n                    for (const candidate of pack.candidates) {\n                        if (candidate.id !== pack.selected) continue;\n                        pack.target.image = candidate.image;\n                        pack.target.id = candidate.id;\n                        break;\n                    }\n                    if (pack.target.id.length < 1) continue;\n                    for (const nomination of list) {\n                        nomination.merge(pack.target);\n                    }\n                }\n                matchData.packs = [];\n                resolve();\n            };\n            setStatus(Status.requestMatch);\n        });\n    }\n\n    async function queryBrainstorming(list: Array<Nomination>) {\n        setStatus(Status.queryingBrainstorming);\n        let count = 0;\n        const queries: Array<Promise<void>> = [];\n        for (const nomination of list) {\n            if (nomination.lngLat) {\n                count++;\n                setProgress(count, list.length);\n                continue;\n            }\n            const query = brainstorming.query(nomination)\n                .then(record => {\n                    nomination.lngLat = { lng: parseFloat(record.lng), lat: parseFloat(record.lat) };\n                })\n                .catch()\n                .finally(() => {\n                    count++;\n                    setProgress(count, list.length);\n                });\n            queries.push(query);\n        }\n        await Promise.allSettled(queries);\n    }\n\n    function setStatus(status: Status) {\n        _store.commit('service/setStatus', status);\n    }\n\n    function setProgress(progress: number, max: number) {\n        _store.commit('progress/setMax', max);\n        _store.commit('progress/setProgress', progress);\n    }\n\n    async function download(filename: Filename) {\n        setStatus(Status.syncing);\n        const file = await google.drive.download(filename, content => {\n            try {\n                const list = content as Array<NominationJSON>;\n                list.forEach(data => Nomination.from(data));\n            } catch {\n                return false;\n            }\n            return true;\n        });\n        if (!file) return 0;\n        return await importNominations(file as Array<NominationJSON>);\n    }\n\n    async function importNominations(list: Array<NominationJSON>): Promise<number> {\n        let count = 0;\n        try {\n            const sources = list.map(data => Nomination.from(data));\n            const raws = await dia.getAll();\n            const nominations = raws.map(raw => Nomination.from(raw));\n            for (const nomination of sources) {\n                let merged = false;\n                for (const target of nominations) {\n                    merged = target.merge(nomination);\n                    if (merged) {\n                        count += 1;\n                        break;\n                    }\n                }\n                if (merged) continue;\n                nominations.push(nomination);\n            }\n            await dia.saveAll(nominations.map(nomination => nomination.raw));\n        } catch (error) {\n            count = 0;\n        }\n        return count;\n    }\n\n    async function getNominationsJSONBlod(): Promise<Blob> {\n        const raws = await dia.getAll();\n        const jsons = raws.map(raws => Nomination.from(raws).json);\n        return new Blob(\n            [ JSON.stringify(jsons, null, 4) ],\n            { type: mimeJSON }\n        )\n    }\n}","import { eli } from \"@lucka-labs/eli\";\n\nexport namespace util {\n\n    export function copy(text: string) {\n        const textarea = eli('textarea', { value: text, readOnly: true });\n        document.body.append(textarea);\n        textarea.select();\n        document.execCommand('copy');\n        textarea.remove();\n    }\n\n    export function exportFile(filename: string, blob: Blob) {\n        const anchor = eli('a', {\n            href: URL.createObjectURL(blob),\n            download: filename,\n            hidden: true\n        });\n        document.body.append(anchor);\n        anchor.click();\n        anchor.remove();\n    }\n\n    export async function importFile() {\n        const input = eli('input', {\n            type: 'file',\n            accept: 'json',\n            hidden: true\n        });\n        return new Promise<string>(resolve => {\n            input.addEventListener('change', () => {\n                setTimeout(() => {\n                    input.remove();\n                }, 1000);\n                if (!input.files || input.files.length < 1) return;\n                const file = input.files[0];\n                const fileReader = new FileReader();\n                fileReader.onload = () => {\n                    if (typeof fileReader.result !== 'string') return;\n                    resolve(fileReader.result);\n                };\n                fileReader.readAsText(file);\n            }, false);\n            document.body.append(input);\n            input.click();\n        });\n    }\n\n    export async function loadScript(url: string) {\n        const script = eli('script', { src: url, defer: true });\n        return new Promise<void>(resolve => {\n            script.onload = () => {\n                resolve();\n            };\n            document.head.append(script);\n        });\n    }\n}","<template>\n<button class=\"fa mdc-icon-button\">\n    <material-icon-raw :icon=\"icon\"/>\n</button>\n</template>\n\n<script lang=\"ts\">\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialIconRaw from './IconRaw.vue';\n\n@Options({\n    components: {\n        MaterialIconRaw\n    },\n})\nexport default class MaterialTopAppBar extends Vue {\n\n    @Prop(String) readonly icon!: string;\n\n    private ctrl?: MDCRipple;\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use '~@material/icon-button';\n\n@include icon-button.core-styles;\n</style>","\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialIconRaw from './IconRaw.vue';\n\n@Options({\n    components: {\n        MaterialIconRaw\n    },\n})\nexport default class MaterialTopAppBar extends Vue {\n\n    @Prop(String) readonly icon!: string;\n\n    private ctrl?: MDCRipple;\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./IconButton.vue?vue&type=template&id=0b15f13c\"\nimport script from \"./IconButton.vue?vue&type=script&lang=ts\"\nexport * from \"./IconButton.vue?vue&type=script&lang=ts\"\n\nimport \"./IconButton.vue?vue&type=style&index=0&id=0b15f13c&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=68ba03c6&lang=scss\"","import { umi } from '@/service/umi';\n\nenum ParseErrorReason {\n    MISSING_ID = 'MISSING_ID',\n    MISSING_TITLE = 'MISSING_TITLE',\n    MISSING_IMAGE = 'MISSING_IMAGE',\n\n    INVALID_ID = 'INVALID_ID',\n    INVALID_IMAGE = 'INVALID_IMAGE'\n}\n\n/**\n * Location\n */\nexport interface LngLat {\n    lng: number;    // Longitude\n    lat: number;    // Latitude\n}\n\nexport interface NominationJSON {\n    id: string;     // Short ID, also brainstorming ID\n    title: string;  // Title\n    image: string;  // Hash part of the image URL\n    scanner: umi.ScannerCode;   // Scanner of the nomination\n\n    status: umi.StatusCode; // Status code\n    reasons?: Array<umi.ReasonCode>; // Reason codes\n\n    confirmedTime: number;  // Confirmed time, the timestamp of confirmation mail\n    confirmationMailId: string; // ID of confirmation mail\n    resultTime?: number; // Result time, the timestamp of result mail\n    resultMailId?: string;   // ID of result mail\n\n    lngLat?: LngLat;    // Location\n}\n\nexport interface NominationRAW extends NominationJSON {\n    reasons: Array<umi.ReasonCode>;\n    resultTime: number;\n    resultMailId: string;\n}\n\n/**\n * Nomination data\n */\nexport default class Nomination implements NominationRAW {\n\n    private static timestampSecondBound = 1E12;\n\n    /**\n     * Comparator for sorting by time\n     */\n    static readonly comparatorByTime = (a: NominationRAW, b: NominationRAW) => {\n        const timeA = a.resultTime ? a.resultTime : a.confirmedTime;\n        const timeB = b.resultTime ? b.resultTime : b.confirmedTime;\n        return timeA < timeB ? 1 : -1;\n    };\n\n    id = '';\n    title = '';\n    image = '';\n    scanner: umi.ScannerCode = umi.ScannerCode.Unknown;\n\n    status: umi.StatusCode = umi.StatusCode.Pending;\n    reasons: Array<umi.ReasonCode> = [];\n\n    confirmedTime = 0;\n    confirmationMailId = '';\n    resultTime = 0;\n    resultMailId = '';\n\n    lngLat?: LngLat = undefined;\n\n    /**\n     * Get the image URL\n     */\n    get imageUrl(): string {\n        return `https://lh4.googleusercontent.com/${this.image}`;\n    }\n\n    /**\n     * Get Intel Maps URL\n     */\n    get intelUrl(): string {\n        if (this.lngLat) {\n            return `https://intel.ingress.com/intel?ll=${this.lngLat.lat},${this.lngLat.lng}&z=18`;\n        } else {\n            return 'https://intel.ingress.com/intel';\n        }\n    }\n\n    /**\n     * Get Brainstorming watermeter URL\n     */\n    get bsUrl(): string {\n        return `https://brainstorming.azurewebsites.net/watermeter.html#${this.id}`;\n    }\n\n    get scannerData(): umi.Scanner {\n        return umi.scanner.get(this.scanner)!;\n    }\n\n    /**\n     * Get status data\n     */\n    get statusData(): umi.Status {\n        return umi.status.get(this.status)!;\n    }\n\n    /**\n     * Get data of reasons\n     */\n    get reasonsData(): Array<umi.Reason> {\n        return this.reasons.map((code) => {\n            return umi.reason.get(code)!;\n        });\n    }\n\n    /**\n     * Get the time of quota being restored\n     */\n    get restoreTime(): number {\n        return this.confirmedTime + (14 * 24 * 3600 * 1000);\n    }\n\n    get raw(): NominationRAW {\n        let raw: NominationRAW = {\n            id: this.id,\n            title: this.title,\n            image: this.image,\n            scanner: this.scanner,\n            status: this.status,\n            reasons: this.reasons,\n            confirmedTime: this.confirmedTime,\n            confirmationMailId: this.confirmationMailId,\n            resultTime: this.resultTime,\n            resultMailId: this.resultMailId\n        };\n        if (this.lngLat) {\n            raw.lngLat = {\n                lng: this.lngLat.lng,\n                lat: this.lngLat.lat\n            };\n        }\n        return raw;\n    }\n\n    /**\n     * Serialize to JSON\n     */\n    get json(): NominationJSON {\n        let json: NominationJSON = {\n            id: this.id,\n            title: this.title,\n            image: this.image,\n            scanner: this.scanner,\n            status: this.status,\n            confirmedTime: this.confirmedTime / 1000,\n            confirmationMailId: this.confirmationMailId,\n        };\n        if (this.reasons.length > 0) {\n            json.reasons = this.reasons;\n        }\n        if (this.resultTime) json.resultTime = this.resultTime / 1000;\n        if (this.resultMailId) json.resultMailId = this.resultMailId;\n        if (this.lngLat) {\n            json.lngLat = {\n                lng: this.lngLat.lng,\n                lat: this.lngLat.lat\n            };\n        }\n        return json;\n    }\n\n    /**\n     * Merge from another nomination\n     * @param raw The raw nomination to merge from\n     * @returns Succeed or not\n     */\n    merge(raw: NominationRAW): boolean {\n        if (this.id !== raw.id) return false;\n        if (this.status === umi.StatusCode.Pending) {\n            this.title = raw.title;\n            this.status = raw.status;\n            this.reasons = raw.reasons;\n            this.resultTime = raw.resultTime;\n            this.resultMailId = raw.resultMailId;\n        } else {\n            this.confirmedTime = raw.confirmedTime;\n            this.confirmationMailId = raw.confirmationMailId;\n        }\n        if (!this.lngLat) {\n            this.lngLat = raw.lngLat;\n        }\n        return true;\n    }\n\n    /**\n     * Parse nomination from JSON\n     * @param json Raw JSON to be parsed\n     * @throws An `Error` when JSON missing `id`, `title` or `image`\n     */\n    static from(json: NominationJSON): Nomination {\n        if (!json.id) throw new Error(ParseErrorReason.MISSING_ID);\n        if (!json.title) throw new Error(ParseErrorReason.MISSING_TITLE);\n        if (!json.image) throw new Error(ParseErrorReason.MISSING_IMAGE);\n\n        // Fix old issues\n        const image = json.image.replace('\\r', '');\n\n        // Test format\n        if (!/^[a-zA-Z0-9]+$/.test(json.id)) {\n            throw new Error(ParseErrorReason.INVALID_ID);\n        }\n        if (!/^[0-9a-zA-Z\\-\\_]+$/.test(image)) {\n            throw new Error(ParseErrorReason.INVALID_IMAGE);\n        }\n\n        const nomination = new Nomination();\n        nomination.id = json.id;\n        nomination.title = json.title;\n        nomination.image = image;\n\n        if (json.scanner) {\n            nomination.scanner = json.scanner;\n        }\n\n        if (json.status === umi.StatusCode.Pending) {\n            nomination.status = umi.StatusCode.Pending;\n        } else if (json.status === umi.StatusCode.Accepted) {\n            nomination.status = umi.StatusCode.Accepted;\n        } else {\n            nomination.status = umi.StatusCode.Rejected;\n            if (json.status !== umi.Reason.undeclared) {\n                if (umi.reason.has(json.status)) {\n                    nomination.reasons.push(json.status);\n                }\n            }\n        }\n        if (json.reasons) {\n            for (const code of json.reasons) {\n                if (umi.reason.has(code) && !nomination.reasons.includes(code)) {\n                    nomination.reasons.push(code);\n                }\n            }\n        }\n\n        nomination.confirmedTime = json.confirmedTime > Nomination.timestampSecondBound ? json.confirmedTime : json.confirmedTime * 1000;\n        nomination.confirmationMailId = json.confirmationMailId;\n\n        if (json.resultTime) nomination.resultTime = json.resultTime > Nomination.timestampSecondBound ? json.resultTime : json.resultTime * 1000;\n        if (json.resultMailId) nomination.resultMailId = json.resultMailId;\n\n        if (json.lngLat) {\n            nomination.lngLat = {\n                lng: json.lngLat.lng,\n                lat: json.lngLat.lat,\n            }\n        }\n        return nomination;\n    }\n\n    /**\n     * Convert hash part of image URL to short ID\n     * @param imgUrl Hash part of the image URL\n     */\n    static parseId(imgUrl: string): string {\n        return imgUrl.replace(/[^a-zA-Z0-9]/g, '').slice(-10).toLowerCase();\n    }\n}\n\n/**\n * Callback for Array<Nomination>.filter()\n */\nexport type Predicator = (nomination: NominationRAW) => boolean;","import type { Reference } from '@firebase/database-types';\n\nimport { umi } from '@/service/umi';\nimport { util } from '../utils';\nimport { ProgressCallback } from '../types';\nimport Nomination, { NominationRAW } from '@/service/nomination';\n\n/**\n * Host Brainstorming data and handle tasks related to Brainstorming\n */\nexport namespace brainstorming {\n\n    const mimeJSON = 'application/json';\n    const filename = 'bsdata.json';\n\n    export enum FailReason {\n        INDEXEDDB_ERROR = 'INDEXEDDB_ERROR',    // Unable to query local database\n        FIREBASE_ERROR  = 'FIREBASE_ERROR',     // Unable to query firebase\n        NOT_EXISTS      = 'NOT_EXISTS',         // Nomination not exists in local database or firebase\n        EARLY           = 'EARLY',              // Nomination got result before firebase exists\n    };\n\n    export interface ReviewRaw {\n        cultural: string;\n        description: string;\n        location: string;\n        quality: string;\n        safety: string;\n        uniqueness: string;\n    }\n\n    export interface Review {\n        JSON: ReviewRaw;\n        Timestamp: number;\n        author: string;\n        reasons: string;\n        stars: string;\n    }\n\n    export interface Record {\n        description: string;\n        hashTags: Array<string>;\n        imageUrl: string;\n        lastTime: number;\n        lat: string;\n        lng: string;\n        statement?: string;\n        streetAddress: string;\n        supportingImageUrl?: string;\n        title: string;\n        [name: string]: any | Review;\n    }\n\n    const databaseName = 'brainstorming';\n    const databaseVersion = 1;\n    const storeName = 'record';\n\n    let database: IDBDatabase | undefined = undefined;  // Local database\n    let reference: Reference | undefined = undefined;   // Firebase reference\n\n    export async function init() {\n        return new Promise<boolean>((resolve, reject) => {\n            const request = window.indexedDB.open(databaseName, databaseVersion);\n            request.onsuccess = () => {\n                database = request.result;\n                resolve(true);\n            };\n            request.onerror = () => reject(request.error);\n            request.onupgradeneeded = () => {\n                request.result.createObjectStore(storeName);\n            };\n        });\n    }\n\n    /**\n     * Query data from local databse and firebase (full version only)\n     * @param nomination Nomination to query\n     * @param succeed Triggered when succeed to query data\n     * @param failed Triggered when Failed to query data\n     */\n    export async function query(nomination: NominationRAW): Promise<Record> {\n        if (beforeCreate(nomination)) {\n            throw new Error(FailReason.EARLY);\n        }\n        let record = await queryDatabase(nomination.id).catch(error => { throw error; });\n        if (record) return record;\n        record = await queryFirebase(nomination.id).catch(error => { throw error; });\n        if (!record) throw new Error(FailReason.NOT_EXISTS);\n        return record;\n    }\n\n    /**\n     * Query firebase to update local database\n     * @param nominations Nomination list\n     * @param finish Triggered when all query finishes\n     */\n    export async function update(nominations: Array<NominationRAW>, callback: ProgressCallback): Promise<number> {\n        let succeed = 0;\n        let processed = 0;\n        const total = nominations.length;\n        const queries: Array<Promise<void>> = [];\n        for (const nomination of nominations) {\n            if (beforeCreate(nomination)) {\n                processed++;\n                callback(processed, total);\n                continue;\n            }\n            const query = queryFirebase(nomination.id)\n                .then(record => { if (record) succeed++; })\n                .catch()\n                .finally(() => {\n                    processed++;\n                    callback(processed, total);\n                })\n            queries.push(query);\n        }\n        await Promise.allSettled(queries);\n        return succeed;\n    }\n\n    export async function getFromLocal(nomination: NominationRAW) {\n        if (beforeCreate(nomination)) return undefined;\n        return await queryDatabase(nomination.id);\n    }\n\n    export async function contains(nomination: NominationRAW) {\n        if (beforeCreate(nomination)) return false;\n        const record = await queryDatabase(nomination.id);\n        return typeof record !== 'undefined';\n    }\n\n    export async function importDatabase() {\n        const content = await util.importFile();\n        let data: Map<string, Record>;\n        try {\n            data = new Map(JSON.parse(content));\n        } catch (error) {\n            return 0;\n        }\n        for (const [key, record] of data) save(key, record);\n        return data.size;\n    }\n\n    export async function exportDatabase(): Promise<number> {\n        const list = await getAll();\n        if (list.length < 1) return 0;\n        const pairs: Array<[string, Record]> = list.map(record => [ Nomination.parseId(record.imageUrl), record]);\n        const blob = new Blob(\n            [ JSON.stringify(pairs, null, 4) ],\n            { type: mimeJSON }\n        );\n        util.exportFile(filename, blob);\n        return pairs.length;\n    }\n\n    /**\n     * Clear local database\n     */\n    export function clear() {\n        const store = getStore('readwrite');\n        if (!store) return;\n        store.clear();\n    }\n\n    /**\n     * Check if the nomination got result before creation of firebase, should skip query if true\n     * @param nomination The nomination\n     */\n    export function beforeCreate(nomination: NominationRAW): boolean {\n        return nomination.status !== umi.StatusCode.Pending && nomination.resultTime < 1518796800000;\n    }\n\n    /**\n     * Query from the local IndexedDB database\n     * @param id Brainstorming ID\n     */\n    async function queryDatabase(id: string): Promise<Record | undefined> {\n        const store = getStore('readonly');\n        if (!store) throw new Error(FailReason.INDEXEDDB_ERROR);\n        return await settled(store.get(id));\n    }\n\n    /**\n     * Query from the Firebase database\n     * @param id Brainstorming ID\n     */\n    async function queryFirebase(id: string): Promise<Record | undefined> {\n        if (!reference) {\n            const [ firebase, _ ] = await Promise.all([\n                import(/* webpackChunkName: 'firebase' */ '@firebase/app'),\n                import(/* webpackChunkName: 'firebase' */ '@firebase/database'),\n            ]).catch(_ => {\n                throw new Error(FailReason.FIREBASE_ERROR);\n            });\n            if (!reference) {\n                const app = firebase.default.initializeApp({ databaseURL: 'https://oprbrainstorming.firebaseio.com' });\n                if (!reference) reference = app.database!().ref('c/reviews/');\n            }\n        }\n        const data = await reference.child(id).once('value').catch(_ => {\n            throw new Error(FailReason.FIREBASE_ERROR);\n        });\n        const record: Record | undefined = data.val();\n        if (record) await save(id, record);\n        return record;\n    }\n\n    async function getAll(): Promise<Array<Record>> {\n        const store = getStore('readonly');\n        if (!store) return [];\n        return await settled(store.getAll()) ?? [];\n    }\n\n    async function save(id: string, record: Record) {\n        const store = getStore('readwrite');\n        if (!store) return;\n        await settled(store.put(record, id));\n    }\n\n    function getStore(mode: IDBTransactionMode): IDBObjectStore | undefined {\n        if (!database) return undefined;\n        return database.transaction([ storeName ], mode).objectStore(storeName);\n    }\n\n    function settled<T>(request: IDBRequest<T>) {\n        return new Promise<T | undefined>((resolve) => {\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => resolve(undefined);\n        });\n    }\n}","export namespace preferences {\n\n    export function set<T>(key: string, value: T) {\n        localStorage.setItem(key, JSON.stringify(value));\n    }\n\n    export function get<T>(key: string, def: T): T {\n        const value = localStorage.getItem(key);\n        if (value !== null) return JSON.parse(value);\n        return def;\n    }\n\n    export namespace general {\n\n        const keyQueryAfterLatest = 'potori.pref.general.queryAfterLatest';\n\n        export function queryAfterLatest(): boolean { return preferences.get(keyQueryAfterLatest, false); }\n        export function setQueryAfterLatest(value: boolean) { preferences.set(keyQueryAfterLatest, value); }\n    }\n\n    export namespace google {\n        \n        const keySync = 'potori.pref.google.sync';\n        \n        export function sync(): boolean { return preferences.get(keySync, false); }\n        export function setSync(value: boolean) { preferences.set(keySync, value); }\n    }\n\n    export namespace brainstorming {\n\n        const keyAutoQueryFirebase = 'potori.pref.brainstorming.autoQueryFirebase';\n\n        export function autoQueryFirebase(): boolean { return preferences.get(keyAutoQueryFirebase, false); }\n        export function setAutoQueryFirebase(value: boolean) { preferences.set(keyAutoQueryFirebase, value); }\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dialog.vue?vue&type=style&index=0&id=cfbf7b90&lang=scss\"","<template>\n{{ symbol }}\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Prop } from 'vue-property-decorator';\n\nconst IconSymbolMap: Record<string, string> = {\n    'search': '\\uf002',\n    'th-list'   : '\\uf00b',\n    'check' : '\\uf00c',\n    'times' : '\\uf00d',\n    'cog'   : '\\uf013',\n    'clock' : '\\uf017',\n    'redo'  : '\\uf01e',\n    'edit'  : '\\uf044',\n    'info-circle'   : '\\uf05a',\n    'arrow-left': '\\uf060',\n    'arrow-up'  : '\\uf062',\n    'plus'  : '\\uf067',\n    'calendar-alt'  : '\\uf073',\n    'folder-open'   : '\\uf07c',\n    'chart-bar' : '\\uf080',\n    'globe' : '\\uf0ac',\n    'angle-up'  : '\\uf106',\n    'angle-down': '\\uf107',\n    'ellipsis-v': '\\uf142',\n    'trash' : '\\uf1f8',\n    'map'   : '\\uf279',\n    'sync-alt'  : '\\uf2f1',\n    'sign-in-alt'   : '\\uf2f6',\n    'redo-alt'  : '\\uf2f9',\n    'pen'   : '\\uf304',\n    'map-marker-alt': '\\uf3c5',\n    'mobile-alt': '\\uf3cd',\n    'tachometer-alt': '\\uf3fd',\n    'user-check': '\\uf4fc',\n    'brain' : '\\uf5dc',\n}\n\nexport default class MaterialIconRaw extends Vue {\n\n    private static nameRegex = /^[a-z\\-]+$/;\n\n    @Prop(String) readonly icon!: string;\n\n    get symbol(): string {\n        if (MaterialIconRaw.nameRegex.test(this.icon)) {\n            return IconSymbolMap[this.icon];\n        } else {\n            return this.icon;\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n$fa-font-path: '~@fortawesome/fontawesome-free/webfonts';\n@import '~@fortawesome/fontawesome-free/scss/solid';\n@import '~@fortawesome/fontawesome-free/scss/mixins';\n@import '~@fortawesome/fontawesome-free/scss/core';\n@import '~@fortawesome/fontawesome-free/scss/fixed-width';\n</style>","\nimport { Vue, Prop } from 'vue-property-decorator';\n\nconst IconSymbolMap: Record<string, string> = {\n    'search': '\\uf002',\n    'th-list'   : '\\uf00b',\n    'check' : '\\uf00c',\n    'times' : '\\uf00d',\n    'cog'   : '\\uf013',\n    'clock' : '\\uf017',\n    'redo'  : '\\uf01e',\n    'edit'  : '\\uf044',\n    'info-circle'   : '\\uf05a',\n    'arrow-left': '\\uf060',\n    'arrow-up'  : '\\uf062',\n    'plus'  : '\\uf067',\n    'calendar-alt'  : '\\uf073',\n    'folder-open'   : '\\uf07c',\n    'chart-bar' : '\\uf080',\n    'globe' : '\\uf0ac',\n    'angle-up'  : '\\uf106',\n    'angle-down': '\\uf107',\n    'ellipsis-v': '\\uf142',\n    'trash' : '\\uf1f8',\n    'map'   : '\\uf279',\n    'sync-alt'  : '\\uf2f1',\n    'sign-in-alt'   : '\\uf2f6',\n    'redo-alt'  : '\\uf2f9',\n    'pen'   : '\\uf304',\n    'map-marker-alt': '\\uf3c5',\n    'mobile-alt': '\\uf3cd',\n    'tachometer-alt': '\\uf3fd',\n    'user-check': '\\uf4fc',\n    'brain' : '\\uf5dc',\n}\n\nexport default class MaterialIconRaw extends Vue {\n\n    private static nameRegex = /^[a-z\\-]+$/;\n\n    @Prop(String) readonly icon!: string;\n\n    get symbol(): string {\n        if (MaterialIconRaw.nameRegex.test(this.icon)) {\n            return IconSymbolMap[this.icon];\n        } else {\n            return this.icon;\n        }\n    }\n}\n","import { render } from \"./IconRaw.vue?vue&type=template&id=cd6e7afa\"\nimport script from \"./IconRaw.vue?vue&type=script&lang=ts\"\nexport * from \"./IconRaw.vue?vue&type=script&lang=ts\"\n\nimport \"./IconRaw.vue?vue&type=style&index=0&id=cd6e7afa&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n<router-view/>\n<material-dialog v-model=\"alertOpen\">{{ alertMessage }}</material-dialog>\n<material-snackbar :message=\"informMessage\" v-model=\"informOpen\"/>\n</template>\n\n<script lang=\"ts\">\nimport { useI18n } from 'vue-i18n';\nimport { Vue, Options } from 'vue-property-decorator';\n\nimport { delibird } from './service/delibird';\n\nimport MaterialDialog from '@/components/material/Dialog.vue';\nimport MaterialSnackbar from '@/components/material/Snackbar.vue';\n\n@Options({\n    components: {\n        MaterialDialog,\n        MaterialSnackbar\n    }\n})\nexport default class App extends Vue {\n\n    alertMessage: string = '';\n    alertOpen: boolean = false;\n\n    informMessage: string = '';\n    informOpen: boolean = false;\n\n    mounted() {\n        delibird.events.alert = (message) => {\n            this.alertMessage = message;\n            this.alertOpen = true;\n        };\n        delibird.events.inform = (message) => {\n            this.informMessage = message;\n            this.informOpen = true;\n        };\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use './variables';\n@use '@material/theme' with (\n    $primary: variables.$primary,\n    $secondary: variables.$secondary,\n);\n@use '~@material/typography';\n@import url('https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap');\n\n@include theme.core-styles;\n\nhtml {\n    // Fix for iOS standalone mode\n    height: calc(100% + env(safe-area-inset-top, 0));\n}\n\nbody, #app {\n    margin: 0;\n    height: 100%;\n}\n\n#app {\n    @include typography.base();\n    display: flex;\n    flex-flow: column nowrap;\n\n    > main:not(.ignore-safe-area) {\n        margin-bottom: env(safe-area-inset-bottom);\n        margin-left: env(safe-area-inset-left);\n        margin-right: env(safe-area-inset-right);\n    }\n}\n</style>\n","<template>\n<div class=\"mdc-dialog\">\n    <div class=\"mdc-dialog__container\">\n        <div class=\"mdc-dialog__surface\" role=\"alertdialog\" aria-modal=\"true\">\n            <div class=\"mdc-dialog__content\">\n                <slot/>\n            </div>\n            <div class=\"mdc-dialog__actions\">\n                <slot name=\"actions\">\n                    <material-dialog-action :text=\"$t('discard')\" action=\"close\" as-default/>\n                </slot>\n            </div>\n        </div>\n    </div>\n    <div class=\"mdc-dialog__scrim\"></div>\n</div>\n</template>\n\n<script lang=\"ts\">\nimport { MDCDialog } from '@material/dialog';\nimport { Vue, Model, Options, Watch } from 'vue-property-decorator';\n\nimport MaterialDialogAction from './DialogAction.vue';\n\nimport locales from './Dialog.locales.json';\n\n@Options({\n    components: {\n        MaterialDialogAction\n    },\n    i18n: {\n        messages: locales\n    }\n})\nexport default class MaterialDialog extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n\n    private ctrl?: MDCDialog;\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCDialog.attachTo(this.$el);\n        this.ctrl.listen('MDCDialog:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use \"@material/dialog\";\n\n@include dialog.core-styles;\n</style>","<template>\n<material-button\n    type=\"button\" class=\"mdc-dialog__button\"\n    :data-mdc-dialog-action=\"action\"\n    :data-mdc-dialog-button-default=\"asDefault\">\n    {{ text }}\n</material-button>\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialButton from './Button.vue';\n\n@Options({\n    components: {\n        MaterialButton\n    }\n})\nexport default class MaterialDialogAction extends Vue {\n    @Prop(String) readonly action?: string;\n    @Prop(Boolean) readonly asDefault?: boolean;\n    @Prop(String) readonly text!: string;\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>","\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialButton from './Button.vue';\n\n@Options({\n    components: {\n        MaterialButton\n    }\n})\nexport default class MaterialDialogAction extends Vue {\n    @Prop(String) readonly action?: string;\n    @Prop(Boolean) readonly asDefault?: boolean;\n    @Prop(String) readonly text!: string;\n}\n","import { render } from \"./DialogAction.vue?vue&type=template&id=5ae349b4\"\nimport script from \"./DialogAction.vue?vue&type=script&lang=ts\"\nexport * from \"./DialogAction.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { MDCDialog } from '@material/dialog';\nimport { Vue, Model, Options, Watch } from 'vue-property-decorator';\n\nimport MaterialDialogAction from './DialogAction.vue';\n\nimport locales from './Dialog.locales.json';\n\n@Options({\n    components: {\n        MaterialDialogAction\n    },\n    i18n: {\n        messages: locales\n    }\n})\nexport default class MaterialDialog extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n\n    private ctrl?: MDCDialog;\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCDialog.attachTo(this.$el);\n        this.ctrl.listen('MDCDialog:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Dialog.vue?vue&type=template&id=cfbf7b90\"\nimport script from \"./Dialog.vue?vue&type=script&lang=ts\"\nexport * from \"./Dialog.vue?vue&type=script&lang=ts\"\n\nimport \"./Dialog.vue?vue&type=style&index=0&id=cfbf7b90&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n<aside class=\"mdc-snackbar\">\n    <div class=\"mdc-snackbar__surface\" role=\"status\" aria-relevant=\"additions\">\n        <div class=\"mdc-snackbar__label\" aria-atomic=\"false\"></div>\n        <div class=\"mdc-snackbar__actions\" aria-atomic=\"true\">\n            <material-icon-button class=\"mdc-snackbar__dismiss\" icon=\"times\"/>\n        </div>\n    </div>\n</aside>\n</template>\n\n<script lang=\"ts\">\nimport { MDCSnackbar } from '@material/snackbar';\nimport { Vue, Model, Options, Prop, Watch } from 'vue-property-decorator';\n\nimport MaterialIconButton from './IconButton.vue';\n\n@Options({\n    components: {\n        MaterialIconButton\n    }\n})\nexport default class MaterialSnackbar extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n    @Prop(String) readonly message!: string;\n\n    private ctrl?: MDCSnackbar;\n\n    @Watch('message')\n    onMessageChanged(newVal: string, _: string) {\n        if (!this.ctrl) return;\n        this.ctrl.labelText = newVal;\n    }\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCSnackbar.attachTo(this.$el);\n        this.ctrl.labelText = this.message;\n        this.ctrl.listen('MDCSnackbar:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use \"@material/snackbar/mdc-snackbar\";\n</style>","\nimport { MDCSnackbar } from '@material/snackbar';\nimport { Vue, Model, Options, Prop, Watch } from 'vue-property-decorator';\n\nimport MaterialIconButton from './IconButton.vue';\n\n@Options({\n    components: {\n        MaterialIconButton\n    }\n})\nexport default class MaterialSnackbar extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n    @Prop(String) readonly message!: string;\n\n    private ctrl?: MDCSnackbar;\n\n    @Watch('message')\n    onMessageChanged(newVal: string, _: string) {\n        if (!this.ctrl) return;\n        this.ctrl.labelText = newVal;\n    }\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCSnackbar.attachTo(this.$el);\n        this.ctrl.labelText = this.message;\n        this.ctrl.listen('MDCSnackbar:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Snackbar.vue?vue&type=template&id=12cf8ebd\"\nimport script from \"./Snackbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Snackbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Snackbar.vue?vue&type=style&index=0&id=12cf8ebd&lang=scss\"\nscript.render = render\n\nexport default script","\nimport { useI18n } from 'vue-i18n';\nimport { Vue, Options } from 'vue-property-decorator';\n\nimport { delibird } from './service/delibird';\n\nimport MaterialDialog from '@/components/material/Dialog.vue';\nimport MaterialSnackbar from '@/components/material/Snackbar.vue';\n\n@Options({\n    components: {\n        MaterialDialog,\n        MaterialSnackbar\n    }\n})\nexport default class App extends Vue {\n\n    alertMessage: string = '';\n    alertOpen: boolean = false;\n\n    informMessage: string = '';\n    informOpen: boolean = false;\n\n    mounted() {\n        delibird.events.alert = (message) => {\n            this.alertMessage = message;\n            this.alertOpen = true;\n        };\n        delibird.events.inform = (message) => {\n            this.informMessage = message;\n            this.informOpen = true;\n        };\n    }\n}\n","import { render } from \"./App.vue?vue&type=template&id=68ba03c6\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=68ba03c6&lang=scss\"\nscript.render = render\n\nexport default script","// This file is generated by scripts/build-locals.ts\nimport en from './en.json'\nimport zh from './zh.json'\n\nexport default {\n    'en': en,\n    'zh': zh,\n};","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router';\n\nconst routes: Array<RouteRecordRaw> = [\n    {\n        path: '/',\n        name: 'Dashboard',\n        component: () => import(/* webpackChunkName: 'dashboard' */ '@/views/Dashboard.vue')\n    },\n\n    {\n        path: '/charts',\n        name: 'Charts',\n        component: () => import(/* webpackChunkName: 'charts' */ '@/views/Charts.vue'),\n    },\n    {\n        path: '/brainstorming',\n        name: 'Brainstorming',\n        component: () => import(/* webpackChunkName: 'brainstorming' */ '@/views/Brainstorming.vue'),\n    },\n\n\n    {\n        path: '/list',\n        name: 'List',\n        component: () => import(/* webpackChunkName: 'list' */ '@/views/NominationList.vue'),\n    },\n    {\n        path: '/details',\n        name: 'Details',\n        component: () => import(/* webpackChunkName: 'details' */ '@/views/NominationDetails.vue'),\n    },\n    {\n        path: '/map',\n        name: 'Map',\n        component: () => import(/* webpackChunkName: 'map' */ '@/views/NominationMap.vue'),\n    },\n    {\n      path: '/preferences',\n      name: 'Preferences',\n      component: () => import(/* webpackChunkName: 'preferences' */ '@/views/Preferences.vue')\n    },\n\n    {\n        path: '/match',\n        name: 'Match',\n        component: () => import(/* webpackChunkName: 'match' */ '@/views/MatchView.vue')\n    },\n];\n\nconst router = createRouter({\n    history: createWebHashHistory('/next/'),\n    routes: routes,\n});\n\nexport default router\n","import { Module } from 'vuex';\n\nimport type { State } from '@/store/state';\n\nexport interface GoogleState {\n    loaded: boolean;\n    authed: boolean;\n}\n\nconst googleModule: Module<GoogleState, State> = {\n    namespaced: true,\n    state: {\n        loaded: false,\n        authed: false,\n    },\n    mutations: {\n        loaded(state: GoogleState) {\n            state.loaded = true;\n        },\n        setAuthed(state: GoogleState, payload: boolean) {\n            state.authed = payload;\n        },\n    }\n}\n\nexport default googleModule;","import { Module } from 'vuex';\n\nimport type { State } from '@/store/state';\n\nexport interface DiaState {\n    saveID: number;\n}\n\nconst diaModule: Module<DiaState, State> = {\n    namespaced: true,\n    state: {\n        saveID: 0\n    },\n    mutations: {\n        saved(state: DiaState, _) {\n            state.saveID++;\n        }\n    }\n}\n\nexport default diaModule;","import { Module } from 'vuex';\n\nimport type { State } from '@/store/state';\n\nexport interface ProgressState {\n    progress: number;\n    max: number;\n}\n\nconst progressModule: Module<ProgressState, State> = {\n    namespaced: true,\n    state: {\n        progress: 0,\n        max: 0\n    },\n    mutations: {\n        setProgress(state: ProgressState, payload: number) {\n            state.progress = payload;\n        },\n        setMax(state: ProgressState, payload: number) {\n            state.max = payload;\n        }\n    }\n}\n\nexport default progressModule;","import { Module } from 'vuex';\n\nimport type { State } from '@/store/state';\nimport { ServiceStatus } from '@/service';\n\nexport interface ServiceState {\n    status: ServiceStatus;\n}\n\nconst serviceModule: Module<ServiceState, State> = {\n    namespaced: true,\n    state: {\n        status: ServiceStatus.idle\n    },\n    mutations: {\n        setStatus(state: ServiceState, payload: ServiceStatus) {\n            state.status = payload;\n        },\n    }\n}\n\nexport default serviceModule;","import { createStore } from 'vuex'\n\nimport type { State } from './state';\nimport google from './modules/google';\nimport dia from './modules/dia';\nimport progress from './modules/progress';\nimport service from './modules/service';\n\nexport default createStore<State>({\n    modules: { service, dia, google, progress }\n});\n","import { createApp } from 'vue';\nimport { createI18n } from 'vue-i18n';\n\nimport { service } from './service';\nimport App from './App.vue';\nimport locales from './locales';\nimport router from './router';\nimport store from './store';\n\nconst i18n = createI18n({\n    locale: navigator.language,\n    fallbackLocale: 'en',\n    messages: locales\n});\n\nservice.init(store, i18n.global);\ncreateApp(App)\n    .use(i18n)\n    .use(store)\n    .use(router)\n    .mount('#app');\n","import type { VueI18n } from 'vue-i18n';\n\nimport data from '@/data/umi/umi.json';\nimport { Predicator } from '@/service/nomination';\n\n/**\n * Keep all status data\n */\nexport namespace umi {\n\n    /**\n     * Code to identify scanner\n     */\n    export enum ScannerCode {\n        Unknown     = 0,\n        Redacted    = 1,\n        Prime       = 2,\n    }\n    \n    /**\n     * Scanner information\n     */\n    export class Scanner {\n        readonly code: ScannerCode;\n        readonly title: string;\n\n        readonly predicator: Predicator;    // Predicator for filter\n\n        constructor(code: ScannerCode, title: string) {\n            this.code = code;\n            this.title = title;\n            this.predicator = (nomination) => nomination.scanner === this.code;\n        }\n    }\n\n    /**\n     * Code to identify status\n     */\n    export enum StatusCode {\n        Pending     = 0,\n        Accepted    = 1,\n        Rejected    = 101,\n    }\n\n    /**\n     * Code to identify reason\n     */\n    export type ReasonCode = number;\n    \n    /**\n     * Status information\n     */\n    export class Status {\n\n        readonly code: StatusCode; // Code to identify the status and saved in file\n        readonly title: string; // Title to display\n        readonly icon: string;  // Icon to represent the status\n    \n        readonly queries: Map<ScannerCode, string>;  // Queries to search mails, <scanner, query>\n\n        readonly predicator: Predicator;    // Predicator for filter\n    \n        constructor(\n            code: number, title: string, icon: string,\n            queries: Map<ScannerCode, string>\n        ) {\n            this.code = code;\n            this.title = title;\n            this.icon = icon;\n\n            this.queries = queries;\n            this.predicator = (nomination) => nomination.status === this.code;\n        }\n    }\n    \n    /**\n     * Reason information\n     */\n    export class Reason {\n\n        static undeclared: ReasonCode = 101;\n        static duplicated: ReasonCode = 102;\n        static close: ReasonCode = 103;\n\n        //readonly key: string;   // Key of the status\n        readonly code: ReasonCode; // Code to identify the status and saved in file\n        readonly title: string; // Title to display\n        readonly icon: string;  // Icon to represent the status\n    \n        readonly color: string; // Color to represent the reason in charts\n        readonly keywords: Map<ScannerCode, Array<string>>;  // Keywords to identify the reason, <scanner, keywords>\n\n        readonly predicator: Predicator;    // Predicator for filter\n    \n        constructor(\n            code: number, title: string, icon: string,\n            color: string, keyword: Map<ScannerCode, Array<string>>\n        ) {\n            this.code = code;\n            this.title = title;\n            this.icon = icon;\n\n            this.color = color;\n            this.keywords = keyword;\n\n            if (code === Reason.undeclared) {\n                this.predicator = (nomination) => nomination.status === StatusCode.Rejected && nomination.reasons.length < 1;\n            } else {\n                this.predicator = (nomination) => nomination.status === StatusCode.Rejected && nomination.reasons.indexOf(code) > -1;\n            }\n        }\n    }\n\n    /**\n     * Common type of `Scanner`, `Status` and `Reason`\n     */\n    export type CommonSense = Scanner | Status | Reason;\n\n    export const scanner = new Map<ScannerCode, Scanner>();\n    export const status = new Map<StatusCode, Status>();\n    export const reason = new Map<ReasonCode, Reason>();\n    export const version = data.version;\n\n    export function init(i18n: VueI18n<unknown, unknown, unknown>) {\n        for (const raw of data.scanners) {\n            const item = new Scanner(raw.code, raw.title);\n            scanner.set(item.code, item);\n        }\n        for (const raw of data.statuses) {\n            const item = new Status(\n                raw.code, i18n.t(raw.title), raw.iconFA,\n                raw.queries.reduce((map, query) => {\n                    map.set(query.scanner, query.query);\n                    return map;\n                }, new Map<ScannerCode, string>())\n            );\n            status.set(item.code, item);\n        }\n        for (const raw of data.reasons) {\n            const item = new Reason(\n                raw.code, i18n.t(raw.title), raw.iconFA, raw.color,\n                raw.keywords.reduce((map, keywords) => {\n                    map.set(keywords.scanner, keywords.keywords);\n                    return map;\n                }, new Map<ScannerCode, Array<string>>())\n            );\n            reason.set(item.code, item);\n        }\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IconButton.vue?vue&type=style&index=0&id=0b15f13c&lang=scss\""],"sourceRoot":""}