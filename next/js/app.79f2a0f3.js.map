{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/store/index.ts","webpack:///./src/components/material/Button.vue","webpack:///./src/components/material/Button.vue?6b1b","webpack:///./src/components/material/Button.vue?9c32","webpack:///./src/App.vue?74ee","webpack:///./src/components/material/Button.vue?8bab","webpack:///./src/service/delibird/index.ts","webpack:///./src/components/material/Snackbar.vue?19af","webpack:///./src/components/material/IconRaw.vue?7a99","webpack:///./src/service/dia/index.ts","webpack:///./src/service/google/auth/index.ts","webpack:///./src/service/google/drive/index.ts","webpack:///./src/service/google/index.ts","webpack:///./src/service/mari/parser.ts","webpack:///./src/service/index.ts","webpack:///./src/service/mari/index.ts","webpack:///./src/service/utils/index.ts","webpack:///./src/components/material/IconButton.vue","webpack:///./src/components/material/IconButton.vue?cac5","webpack:///./src/components/material/IconButton.vue?6ace","webpack:///./src/service/nomination/constants.ts","webpack:///./src/service/nomination/index.ts","webpack:///./src/service/brainstorming/index.ts","webpack:///./src/service/preferences/index.ts","webpack:///./src/components/material/IconRaw.vue","webpack:///./src/components/material/IconRaw.vue?4db4","webpack:///./src/components/material/IconRaw.vue?950b","webpack:///./src/App.vue","webpack:///./src/components/material/Dialog.vue","webpack:///./src/components/material/DialogAction.vue","webpack:///./src/components/material/DialogAction.vue?dfd3","webpack:///./src/components/material/DialogAction.vue?c9dd","webpack:///./src/components/material/Dialog.vue?76f8","webpack:///./src/components/material/Dialog.vue?bd7a","webpack:///./src/components/material/Snackbar.vue","webpack:///./src/components/material/Snackbar.vue?2826","webpack:///./src/components/material/Snackbar.vue?b275","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?eabf","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/service/umi/index.ts","webpack:///./src/components/material/Dialog.vue?4cba","webpack:///./src/components/material/IconButton.vue?cf57"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","State","Status","state","status","idle","progress","gapiLoaded","gapiAuthed","nominations","getters","count","predicator","filter","mutations","payload","nomination","id","actions","class","className","this","outlined","raised","ctrl","attachTo","$el","unbounded","destroy","Boolean","render","delibird","alert","events","inform","dia","databaseName","databaseVersion","storeName","database","init","indexedDB","open","onsuccess","onupgradeneeded","createObjectStore","keyPath","autoIncrement","load","store","getStore","getAll","saveAll","put","save","remove","delete","clear","transaction","objectStore","AuthKit","authStatusChanged","navigator","onLine","gapi","initClient","client","apiKey","clientId","discoveryDocs","scope","join","auth2","getAuthInstance","isSignedIn","listen","signedIn","currentUser","getAuthResponse","access_token","signIn","signOut","ids","Map","filename","validator","listResponse","drive","files","list","q","pageSize","spaces","folder","fields","file","fileResponse","fileId","alt","solidFile","set","mimeType","blob","token","url","method","metadata","has","parents","form","FormData","append","Blob","JSON","stringify","authHeader","response","responseRaw","fetch","headers","Headers","Authorization","body","json","auth","callback","loadScript","parser","parse","mail","scanner","umi","StatusCode","Pending","confirmedTime","parseInt","internalDate","confirmationMailId","resultTime","resultMailId","header","matched","match","title","trim","part","parts","partId","mailBody","base64","image","parseId","ScannerCode","Redacted","lngLat","Rejected","reasons","reason","matchedMainBody","mainBody","indexReasons","keywords","keyword","pos","search","sort","a","b","map","pair","lng","parseFloat","lat","text","unescape","decodeURIComponent","escape","atob","replace","ProgressItem","total","finished","Progress","lists","messages","onProgress","percent","log","left","queryAfter","ignoreIds","flatMap","preferences","general","queryAfterLatest","latest","Math","floor","reduce","time","max","queries","values","keys","query","allSettled","addList","pageToken","gmail","users","userId","filtered","includes","nextPageToken","finishList","format","metadataHeaders","fullMail","subject","details","typedError","stack","finishMessage","service","Filename","mimeJSON","google","mari","_store","addEventListener","errorEvent","errors","authed","commit","setProgress","refresh","sync","download","setStatus","processingMails","raws","getRaws","start","matchTargets","reduced","merged","merge","Array","brainstorming","autoQueryFirebase","queryBrainstorming","upload","updateBrainstorming","queryingBrainstorming","update","syncing","getNominationsBlod","accessToken","migrate","legacy","importNominationsFile","importFile","content","importNominations","exportNominationsFile","exportFile","importWayfarerJSON","parsed","mapNomination","imageUrl","clearNominations","deleteNomination","raw","from","targets","pendings","packs","checkScanner","Unknown","candidates","selected","matchData","pack","candidate","requestMatch","record","catch","_","forEach","sources","util","copy","textarea","readOnly","select","execCommand","anchor","URL","createObjectURL","hidden","click","input","accept","fileReader","FileReader","readAsText","defer","icon","String","components","MaterialIconRaw","StringKeyBase","StringKey","day","missing","messageParseErrorMissingId","messageParseErrorMissingTitle","messageParseErrorMissingImage","messageParseErrorInvalidId","messageParseErrorInvalidImage","test","Accepted","Reason","undeclared","timestampSecondBound","imgUrl","toLowerCase","comparatorByTime","timeA","timeB","FailReason","reference","beforeCreate","EARLY","queryDatabase","queryFirebase","NOT_EXISTS","succeed","processed","getFromLocal","contains","importDatabase","size","exportDatabase","pairs","INDEXEDDB_ERROR","firebase","FIREBASE_ERROR","app","default","initializeApp","databaseURL","ref","child","once","val","localStorage","setItem","def","getItem","keyQueryAfterLatest","setQueryAfterLatest","keySync","setSync","keyAutoQueryFirebase","setAutoQueryFirebase","symbol","IconSymbolMap","nameRegex","alertOpen","alertMessage","informMessage","informOpen","role","aria-modal","action","as-default","data-mdc-dialog-action","data-mdc-dialog-button-default","asDefault","MaterialButton","newVal","$emit","isOpen","close","MaterialDialogAction","aria-relevant","aria-atomic","labelText","MaterialIconButton","MaterialDialog","MaterialSnackbar","routes","path","component","router","history","use","mount","Scanner","color","indexOf","duplicated","scanners","statuses","iconFA","quries","mapKeywords"],"mappings":"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","file":"js/app.79f2a0f3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"braainstorming~charts~dashboard~details~list~map~match~preferences\":\"braainstorming~charts~dashboard~details~list~map~match~preferences\",\"braainstorming~charts\":\"braainstorming~charts\",\"braainstorming~dashboard\":\"braainstorming~dashboard\",\"braainstorming\":\"braainstorming\",\"charts\":\"charts\",\"dashboard\":\"dashboard\",\"details~map\":\"details~map\",\"details\":\"details\",\"map\":\"map\",\"list\":\"list\",\"match\":\"match\",\"preferences\":\"preferences\",\"firebase\":\"firebase\",\"mapbox\":\"mapbox\"}[chunkId]||chunkId) + \".\" + {\"braainstorming~charts~dashboard~details~list~map~match~preferences\":\"3749e1b4\",\"braainstorming~charts\":\"aa3f9f3f\",\"braainstorming~dashboard\":\"098f94dd\",\"braainstorming\":\"5ad399ef\",\"charts\":\"48767b8a\",\"dashboard\":\"e820f018\",\"details~map\":\"df86ac01\",\"details\":\"06620b56\",\"map\":\"c0b7e21c\",\"list\":\"db1fd2a0\",\"match\":\"18935d21\",\"preferences\":\"d74f44ca\",\"firebase\":\"5e48b75b\",\"mapbox\":\"2dcfe6ae\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"braainstorming~charts~dashboard~details~list~map~match~preferences\":1,\"braainstorming~charts\":1,\"braainstorming~dashboard\":1,\"braainstorming\":1,\"charts\":1,\"dashboard\":1,\"details~map\":1,\"details\":1,\"map\":1,\"list\":1,\"match\":1,\"preferences\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"braainstorming~charts~dashboard~details~list~map~match~preferences\":\"braainstorming~charts~dashboard~details~list~map~match~preferences\",\"braainstorming~charts\":\"braainstorming~charts\",\"braainstorming~dashboard\":\"braainstorming~dashboard\",\"braainstorming\":\"braainstorming\",\"charts\":\"charts\",\"dashboard\":\"dashboard\",\"details~map\":\"details~map\",\"details\":\"details\",\"map\":\"map\",\"list\":\"list\",\"match\":\"match\",\"preferences\":\"preferences\",\"firebase\":\"firebase\",\"mapbox\":\"mapbox\"}[chunkId]||chunkId) + \".\" + {\"braainstorming~charts~dashboard~details~list~map~match~preferences\":\"456360f3\",\"braainstorming~charts\":\"5109a264\",\"braainstorming~dashboard\":\"088a28d9\",\"braainstorming\":\"92917073\",\"charts\":\"a8695c17\",\"dashboard\":\"030c0685\",\"details~map\":\"370ca2bc\",\"details\":\"e45c7c88\",\"map\":\"dc687b38\",\"list\":\"6a9f041e\",\"match\":\"4e5ee524\",\"preferences\":\"a2815486\",\"firebase\":\"31d6cfe0\",\"mapbox\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/next/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { createStore } from 'vuex'\n\nimport Nomination, { Predicator } from '@/service/nomination';\n\nexport namespace State {\n    export enum Status {\n        idle,\n        processingMails,\n        requestMatch,\n        queryingBrainstorming,\n        syncing\n    }\n}\n\nexport interface State {\n    status: State.Status;\n    progress: number;\n    gapiLoaded: boolean;\n    gapiAuthed: boolean;\n    nominations: Array<Nomination>;\n}\n\nexport default createStore<State>({\n    state: {\n        status: State.Status.idle,\n        progress: 0,\n        gapiLoaded: false,\n        gapiAuthed: false,\n        nominations: [],\n    },\n    getters: {\n        empty(state: State) {\n            return state.nominations.length < 1;\n        },\n        count: (state: State) => (predicator: Predicator) => {\n            return state.nominations.filter(predicator).length;\n        }\n    },\n    mutations: {\n        setStatus(state: State, payload: State.Status) {\n            state.status = payload;\n        },\n        setProgress(state: State, payload: number) {\n            state.progress = payload;\n        },\n        gapiLoaded(state: State) {\n            state.gapiLoaded = true;\n        },\n        setGAPIAuthed(state: State, payload: boolean) {\n            state.gapiAuthed = payload;\n        },\n        setNominations(state: State, payload: Array<Nomination>) {\n            state.nominations = payload;\n        },\n        deleteNomination(state: State, payload: string) {\n            state.nominations = state.nominations.filter((nomination) => nomination.id !== payload);\n        }\n    },\n    actions: {\n    },\n    modules: {\n    }\n});\n","<template>\n<button :class=\"className\">\n    <span class=\"mdc-button__ripple\"></span>\n    <span class=\"mdc-button__label\"><slot/></span>\n</button>\n</template>\n\n<script lang=\"ts\">\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Prop } from 'vue-property-decorator';\n\nexport default class MaterialButton extends Vue {\n\n    @Prop(Boolean) readonly outlined?: boolean;\n    @Prop(Boolean) readonly raised?: boolean;\n\n    private ctrl?: MDCRipple;\n\n    get className(): string {\n        let name = 'mdc-button';\n        if (this.outlined) {\n            name += ' mdc-button--outlined';\n        } else if (this.raised) {\n            name += ' mdc-button--raised';\n        }\n        return name;\n    }\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use '~@material/button/styles';\n</style>","\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Prop } from 'vue-property-decorator';\n\nexport default class MaterialButton extends Vue {\n\n    @Prop(Boolean) readonly outlined?: boolean;\n    @Prop(Boolean) readonly raised?: boolean;\n\n    private ctrl?: MDCRipple;\n\n    get className(): string {\n        let name = 'mdc-button';\n        if (this.outlined) {\n            name += ' mdc-button--outlined';\n        } else if (this.raised) {\n            name += ' mdc-button--raised';\n        }\n        return name;\n    }\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Button.vue?vue&type=template&id=79013cda\"\nimport script from \"./Button.vue?vue&type=script&lang=ts\"\nexport * from \"./Button.vue?vue&type=script&lang=ts\"\n\nimport \"./Button.vue?vue&type=style&index=0&id=79013cda&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=4edf6c57&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Button.vue?vue&type=style&index=0&id=79013cda&lang=scss\"","import { MessageCallback } from '@/service/types';\n\nexport namespace delibird {\n    interface Events {\n        alert   : MessageCallback,  // Triggered when alert raised\n        inform  : MessageCallback,  // Triggered when some information should be passed to user\n    }\n\n    export const events: Events = {\n        alert   : () => { },\n        inform  : () => { },\n    }\n\n    export function alert(message: string) {\n        events.alert(message);\n    }\n\n    export function inform(message: string) {\n        events.inform(message);\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Snackbar.vue?vue&type=style&index=0&id=12cf8ebd&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IconRaw.vue?vue&type=style&index=0&id=cd6e7afa&lang=scss\"","import Nomination, { NominationData } from '@/service/nomination';\n\nexport namespace dia {\n\n    const databaseName = 'potori';\n    const databaseVersion = 1;\n    const storeName = 'nomination';\n\n    let database: IDBDatabase | undefined = undefined;\n\n    export function init() {\n        return new Promise<boolean>((resolve, reject) => {\n            const request = window.indexedDB.open(databaseName, databaseVersion);\n            request.onsuccess = () => {\n                database = request.result;\n                resolve(true);\n            };\n            request.onerror = () => reject(request.error);\n            request.onupgradeneeded = () => {\n                request.result.createObjectStore(storeName, {\n                    keyPath: 'id', autoIncrement: false\n                });\n            };\n        });\n    }\n\n    export function load() {\n        return new Promise<Array<NominationData>>((resolve, reject) => {\n            const store = getStore('readonly');\n            if (!store) {\n                reject();\n                return;\n            }\n            const request = store.getAll();\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n\n    export function saveAll(nominations: Array<Nomination>) {\n        const store = getStore('readwrite');\n        if (!store) return;\n        for (const nomination of nominations) {\n            store.put(nomination);\n        }\n    }\n\n    export function save(nomination: Nomination) {\n        const store = getStore('readwrite');\n        if (!store) return;\n        store.put(nomination);\n    }\n\n    export function remove(id: string) {\n        const store = getStore('readwrite');\n        if (!store) return;\n        store.delete(id);\n    }\n\n    export function clear() {\n        const store = getStore('readwrite');\n        if (!store) return;\n        store.clear();\n    }\n\n    function getStore(mode: IDBTransactionMode): IDBObjectStore | undefined {\n        if (!database) return undefined;\n        return database.transaction([ storeName ], mode).objectStore(storeName);\n    }\n}","export type AuthStatusChangedCallback = (signedIn: boolean) => void;\ntype ErrorCallback = (message: string) => void;\n\n/**\n * Events for {@link AuthKit}\n */\ninterface AuthKitEvents {\n    authStatusChanged: AuthStatusChangedCallback;   // Triggered when sign-in or sign-out\n    error: ErrorCallback;   // Triggered when gapi.auth error occures\n}\n\n/**\n * Handle GAPI authentication\n */\nexport default class AuthKit {\n\n    events: AuthKitEvents = {\n        authStatusChanged: () => { },\n        error: () => { },\n    };\n\n    init() {\n        if (navigator.onLine) {\n            gapi.load('client:auth2', () => this.initClient());\n        }\n    }\n\n    /**\n     * Initialize the GAPI and load client libraries\n     */\n    private initClient() {\n        gapi.client.init({\n            apiKey: 'AIzaSyCqIaS8UizqjWrIKm5zV3_S8EffCWjKR-A',\n            clientId: '361295761775-qshg0f5buh495dhubp4v5bignk7i5dh1.apps.googleusercontent.com',\n            discoveryDocs: [\n                'https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest',\n                'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'\n            ],\n            scope: [\n                'https://www.googleapis.com/auth/gmail.readonly',\n                'https://www.googleapis.com/auth/drive.file',\n                'https://www.googleapis.com/auth/drive.appdata'\n            ].join(' '),\n        }).then(\n            () => {\n                // Listen for sign-in state changes.\n                gapi.auth2.getAuthInstance().isSignedIn.listen(this.events.authStatusChanged);\n                // Handle the initial sign-in state.\n                this.events.authStatusChanged(this.signedIn);\n            },\n            this.events.error\n        );\n    }\n\n    /**\n     * Get authentication status, signed in or not\n     */\n    get signedIn() {\n        return navigator.onLine && gapi.auth2.getAuthInstance().isSignedIn.get();\n    }\n\n    /**\n     * Get the token for accessing the account\n     */\n    get accessToken() {\n        return gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;\n    }\n\n    /**\n     * Sign in\n     */\n    signIn() {\n        gapi.auth2.getAuthInstance().signIn();\n    }\n\n    /**\n     * Sign out\n     */\n    signOut() {\n        gapi.auth2.getAuthInstance().signOut();\n    }\n}","type FileValidator = (file: gapi.client.drive.File) => boolean;\n\n/**\n * Download and upload from / to Google Drive\n */\nexport default class GoogleDriveKit {\n\n    private static readonly folder = 'appDataFolder';   // The private folder in Google Drive\n\n    private ids: Map<string, string> = new Map();   // ID of files, <filename, id>\n\n    /**\n     * Download file from Google Drive.\n     * \n     * The caller should decide whether to delete the current one & download\n     * next one or not by return a boolean\n     * \n     * @param filename Name of the file to download\n     * @param callback Triggered when a file is downloaded\n     */\n    async download(filename: string, validator: FileValidator) {\n        const listResponse = await gapi.client.drive.files.list({\n            q: `name = '${filename}'`,\n            pageSize: 10,\n            spaces: GoogleDriveKit.folder,\n            fields: 'files(id)'\n        });\n        if (!listResponse.result.files) return undefined;\n        const list = listResponse.result.files;\n        for (const file of list) {\n            if (!file.id) continue;\n            const fileResponse = await gapi.client.drive.files.get({\n                fileId: file.id,\n                alt: 'media'\n            });\n            const solidFile = fileResponse.result;\n            if (validator(solidFile)) {\n                this.ids.set(filename, file.id);\n                return solidFile;\n            }\n            gapi.client.drive.files.delete({ fileId: file.id })\n        }\n    }\n\n    /**\n     * Upload file to Google Drive\n     * @param filename Filename to upload\n     * @param mimeType MIME type of the file\n     * @param blob Content to upload\n     * @param token The Google account access token\n     * @param callback Triggered when process finished\n     */\n    async upload(filename: string, mimeType: string, blob: Blob, token: string) {\n        // Ref: https://gist.github.com/tanaikech/bd53b366aedef70e35a35f449c51eced\n        let url = '';\n        let method = '';\n        const metadata: any = {\n            name: filename,\n            mimeType: mimeType,\n        };\n        // Using parent in Update will cause 403\n        if (this.ids.has(filename)) {\n            method = 'PATCH';\n            url = `https://www.googleapis.com/upload/drive/v3/files/${this.ids.get(filename)}?uploadType=multipart`;\n        } else {\n            method = 'POST';\n            url = 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart';\n            metadata.parents = [ GoogleDriveKit.folder ];\n        }\n        const form = new FormData();\n        form.append('metadata', new Blob([JSON.stringify(metadata)], { type: mimeType }));\n        form.append('file', blob);\n        const authHeader = `Bearer ${token}`;\n        let response: any | undefined;\n        try {\n            const responseRaw = await fetch(url, {\n                method: method,\n                headers: new Headers({ Authorization: authHeader }),\n                body: form,\n            });\n            response = await responseRaw.json();\n        } catch {\n            return false;\n        }\n        if (!response || typeof response.id !== 'string') return false;\n        this.ids.set(filename, response.id);\n        return true;\n    }\n}","import { util } from '@/service/utils';\nimport AuthKit from './auth';\nimport GoogleDriveKit from './drive';\n\ntype BasicCallback = () => void;\n\nexport default class GoogleKit {\n\n    auth = new AuthKit();\n    drive = new GoogleDriveKit();\n\n    init(callback: BasicCallback) {\n        util.loadScript('https://apis.google.com/js/api.js')\n            .then(() => {\n                callback();\n            });\n    }\n}","import { umi } from '@/service/umi';\nimport Nomination, { LngLat } from '@/service/nomination';\n\n/**\n * Parsers for mail content\n */\nexport namespace parser {\n    /**\n     * Parse the full mail to nomination\n     * @param mail The full mail to parse\n     * @param status Statue of the mail\n     * @param scanner Scanner of the mail\n     * @returns The parsed nomination\n     */\n    export function parse(\n        mail: gapi.client.gmail.Message,\n        status: umi.StatusCode,\n        scanner: umi.ScannerCode\n    ): Nomination {\n        const nomination = new Nomination();\n        nomination.status = status;\n        nomination.scanner = scanner;\n        if (status === umi.StatusCode.Pending) {\n            nomination.confirmedTime = parseInt(mail.internalDate!);\n            nomination.confirmationMailId = mail.id!;\n        } else {\n            nomination.resultTime = parseInt(mail.internalDate!);\n            nomination.resultMailId = mail.id!;\n        }\n\n        // Subject -> Title\n        for (const header of mail.payload!.headers!) {\n            if (header.name === 'Subject') {\n                const matched = header.value!.match(/[:](.+)/);\n                if (matched && matched.length > 1) {\n                    nomination.title = matched[1].trim();\n                }\n                break;\n            }\n        }\n\n        // Body -> image, id, lngLat and reason\n        for (const part of mail.payload!.parts!) {\n            if (part.partId !== '1') continue;\n            const mailBody = base64(part.body!.data!);\n            const matched = mailBody.match(/(?:googleusercontent|ggpht)\\.com\\/([0-9a-zA-Z\\-\\_]+)/);\n            if (matched && matched.length > 1) {\n                nomination.image = matched[1];\n                nomination.id = Nomination.parseId(nomination.image);\n            }\n            if (scanner === umi.ScannerCode.Redacted && status !== umi.StatusCode.Pending) {\n                nomination.lngLat = lngLat(mailBody);\n            }\n            if (status === umi.StatusCode.Rejected) {\n                nomination.status = umi.StatusCode.Rejected;\n                nomination.reasons = reason(mailBody, scanner);\n            }\n            break;\n        }\n        return nomination;\n    }\n\n    /**\n     * Parse the reject reason from mail body\n     * @param mail Body (content) of the mail\n     * @param scanner The scanner key for fetch the keywords\n     */\n    function reason(mail: string, scanner: umi.ScannerCode): Array<umi.ReasonCode> {\n        const matchedMainBody = mail.match(/(\\n|\\r|.)+?\\-NianticOps/);\n        if (!matchedMainBody || matchedMainBody.length < 1) {\n            return [ ];\n        }\n        const mainBody = matchedMainBody[0];\n\n        const indexReasons: Array<[number, umi.ReasonCode]> = []\n        for (const [code, reason] of umi.reason) {\n            const keywords = reason.keywords.get(scanner);\n            if (!keywords) continue;\n            for (const keyword of keywords) {\n                const pos = mainBody.search(keyword);\n                if (pos < 0) continue;\n                indexReasons.push([pos, code]);\n                break;\n            }\n        }\n        return indexReasons\n            .sort((a, b) => a[0] > b[0] ? 1 : -1)\n            .map((pair) => pair[1]);\n    }\n\n    /**\n     * Parse the location from mail body, only redacted mails contain location\n     * @param mail Body (content) of the mail\n     */\n    function lngLat(mail: string): LngLat | undefined {\n        const matched = mail.match(/www\\.ingress\\.com\\/intel\\?ll\\=([\\.\\d]+),([\\.\\d]+)/);\n        if (!matched || matched.length < 3) {\n            return undefined;\n        }\n        return {\n            lng: parseFloat(matched[2]),\n            lat: parseFloat(matched[1])\n        };\n    }\n\n    /**\n     * Decode base64\n     * @param text Base64 encoded text\n     * @see https://nelluil.postach.io/post/btoa-atob-zhi-yuan-zhong-wen-de-fang-fa\n     * @see https://cnodejs.org/topic/4fd6b7ba839e1e581407aac8\n     */\n    function base64(text: string) {\n        return unescape(\n            decodeURIComponent(\n                escape(window.atob(text.replace(/\\-/g, '+').replace(/\\_/g, '/')))\n            )\n        );\n    }\n}","import { Store } from 'vuex'\nimport { toRaw } from '@vue/reactivity';\n\nimport { brainstorming } from './brainstorming';\nimport { delibird } from './delibird';\nimport { dia } from './dia';\nimport { preferences } from './preferences';\nimport { umi } from './umi';\nimport { util } from './utils';\nimport { CountCallback } from './types';\nimport { State } from '@/store';\nimport GoogleKit from './google';\nimport Mari from './mari';\nimport Nomination, { NominationData } from './nomination';\n\nexport namespace service {\n\n    enum Filename {\n        nominations = 'nominations.json',\n        legacy = 'potori.json'\n    }\n\n    export interface MatchPack {\n        target: Nomination;\n        candidates: Array<Nomination>;\n        selected: string;\n    }\n\n    export interface MatchData {\n        packs: Array<MatchPack>;\n        callback: () => void;\n    }\n\n    const mimeJSON = 'application/json';\n\n    const google = new GoogleKit();\n    const mari = new Mari();\n    let _store: Store<State>;\n\n    export const matchData: MatchData = {\n        packs: [],\n        callback: () => { }\n    };\n\n    export const errors: Array<ErrorEvent> = [];\n\n    export function init(store: Store<State>) {\n        _store = store;\n\n        window.addEventListener('error', (errorEvent) => {\n            errors.push(errorEvent);\n        });\n\n        load();\n\n        google.init(() => {\n            google.auth.events.authStatusChanged = (authed) => {\n                _store.commit('setGAPIAuthed', authed);\n                _store.commit('gapiLoaded');\n            };\n            google.auth.init();\n\n            mari.events.alert = (message) => {\n                delibird.alert(message);\n            }\n            mari.events.progress = (progress) => {\n                setProgress(progress);\n            };\n            mari.init();\n        });\n    }\n\n    export function signIn() {\n        google.auth.signIn();\n    }\n\n    export function signOut() {\n        google.auth.signOut();\n    }\n\n    export async function refresh() {\n        if (preferences.google.sync()) await download(Filename.nominations);\n        setProgress(0);\n        setStatus(State.Status.processingMails);\n        const raws = getRaws()\n        await mari.start(raws);\n        const matchTargets: Array<Nomination> = [];\n        const reduced = raws.reduce((list, nomination) => {\n            if (nomination.id.length < 1) {\n                console.log(`service.arrange: Need match: #${nomination.id}[${nomination.title}]`);\n                matchTargets.push(nomination);\n                return list;\n            }\n            // Merge\n            let merged = false;\n            for (const target of list) {\n                if (target.merge(nomination)) {\n                    merged = true;\n                    break;\n                }\n            }\n            if (!merged) {\n                list.push(nomination);\n            }\n            return list;\n        }, new Array<Nomination>());\n        console.log(`service.arrange: ${raws.length} reduced to ${reduced.length}`);\n        if (matchTargets.length > 0) {\n            await match(matchTargets, reduced);\n        }\n        if (preferences.brainstorming.autoQueryFirebase()) {\n            await queryBrainstorming(reduced);\n        }\n        if (preferences.google.sync()) {\n            await upload();\n        }\n        _store.commit('setNominations', reduced);\n        save();\n        setStatus(State.Status.idle);\n    }\n\n    export async function updateBrainstorming() {\n        setStatus(State.Status.queryingBrainstorming);\n        const count = await brainstorming.update(getRaws(), progress => {\n            setProgress(progress);\n        });\n        setStatus(State.Status.idle);\n        return count;\n    }\n\n    export async function sync() {\n        await download(Filename.nominations);\n        await upload();\n    }\n\n    export async function upload() {\n        setStatus(State.Status.syncing);\n        const blob = getNominationsBlod();\n        await google.drive.upload(Filename.nominations, mimeJSON, blob, google.auth.accessToken);\n        setStatus(State.Status.idle);\n    }\n\n    export function migrate(callback: CountCallback) {\n        download(Filename.legacy).then(count => {\n            setStatus(State.Status.idle);\n            callback(count);\n        })\n    }\n\n    export function importNominationsFile(callback: CountCallback) {\n        util.importFile().then(content => {\n            try {\n                const list = JSON.parse(content) as Array<NominationData>;\n                const count = importNominations(list);\n                callback(count);\n            } catch (error) {\n                callback(0);\n            }\n        });\n    }\n\n    export function exportNominationsFile() {\n        util.exportFile(Filename.nominations, getNominationsBlod());\n    }\n\n    /**\n     * Import JSON from Wayfarer API response\n     * \n     * Error codes\n     * - `-1` Parse error\n     * - `-2` Invalid data\n     * @param json Raw JSON\n     * @returns Count of updated nominations or error code\n     */\n    export function importWayfarerJSON(json: string): number {\n        let parsed;\n        try {\n            parsed = JSON.parse(json);\n        } catch (error) {\n            // Parse error\n            return -1;\n        }\n        if (!parsed.result || parsed.result.length < 1) {\n            // Invalid data\n            return -2;\n        }\n\n        const nominations = _store.state.nominations;\n        const mapNomination = nominations.reduce((map, nomination) => {\n            map.set(nomination.id, nomination);\n            return map;\n        }, new Map<string, Nomination>());\n        \n        let count = 0;\n        for (const data of parsed.result) {\n            const id = Nomination.parseId(data.imageUrl);\n            const nomination = mapNomination.get(id);\n            if (!nomination) continue;\n            nomination.title = data.title;\n            nomination.lngLat = {\n                lng: parseFloat(data.lng),\n                lat: parseFloat(data.lat)\n            };\n            count += 1;\n        }\n        save();\n        return count;\n    }\n\n    export function update(nomination: Nomination) {\n        dia.save(toRaw(nomination));\n    }\n\n    export function clearNominations() {\n        dia.clear();\n        _store.commit('setNominations', []);\n    }\n\n    export function deleteNomination(id: string) {\n        dia.remove(id);\n        _store.commit('deleteNomination', id);\n    }\n\n    export function save() {\n        const raws = getRaws();\n        dia.saveAll(raws);\n    }\n\n    async function load() {\n        await dia.init();\n        const raws = await dia.load();\n        const nominations = raws.map(raw => Nomination.from(raw));\n        _store.commit('setNominations', nominations);\n        brainstorming.init();\n    }\n\n    /**\n     * Some result mails don't contain image URL, should match from pending nominations manually.\n     * @param targets Nominations without image\n     * @param list Normal nominations\n     */\n     async function match(targets: Array<Nomination>, list: Array<Nomination>) {\n        const pendings = list.filter(umi.status.get(umi.StatusCode.Pending)!.predicator);\n        const packs: Array<MatchPack> = [];\n        for (const target of targets) {\n            const checkScanner = target.scanner !== umi.ScannerCode.Unknown;\n            const candidates = pendings.filter((nomination) => {\n                if (nomination.title !== target.title) return false;\n                if (nomination.confirmedTime >= target.resultTime) return false;\n                if (checkScanner && nomination.scanner !== umi.ScannerCode.Unknown && nomination.scanner !== nomination.scanner) return false;\n                return true;\n            });\n            if (candidates.length < 1) continue;\n            packs.push({ target: target, candidates: candidates, selected: '' });\n        }\n        return new Promise<void>((resolve) => {\n            if (packs.length < 1) {\n                resolve();\n                return;\n            }\n            matchData.packs = packs;\n            matchData.callback = () => {\n                matchData.callback = () => { };\n                for (const pack of matchData.packs) {\n                    if (pack.selected.length < 1) continue;\n                    for (const candidate of pack.candidates) {\n                        if (candidate.id !== pack.selected) continue;\n                        pack.target.image = candidate.image;\n                        pack.target.id = candidate.id;\n                        break;\n                    }\n                    if (pack.target.id.length < 1) continue;\n                    for (const nomination of list) {\n                        nomination.merge(pack.target);\n                    }\n                }\n                matchData.packs = [];\n                resolve();\n            };\n            setStatus(State.Status.requestMatch);\n        });\n    }\n\n    async function queryBrainstorming(list: Array<Nomination>) {\n        setStatus(State.Status.queryingBrainstorming);\n        let count = 0;\n        for (const nomination of list) {\n            count++;\n            if (nomination.lngLat) {\n                setProgress(count / list.length);\n                continue;\n            }\n            const record = await brainstorming.query(nomination).catch(_ => undefined);\n            if (!record) {\n                setProgress(count / list.length);\n                continue;\n            }\n            nomination.lngLat = {\n                lng: parseFloat(record.lng), lat: parseFloat(record.lat)\n            };\n            setProgress(count / list.length);\n        }\n    }\n\n    function setStatus(status: State.Status) {\n        _store.commit('setStatus', status);\n    }\n\n    function setProgress(progress: number) {\n        _store.commit('setProgress', progress);\n    }\n\n    async function download(filename: Filename) {\n        setStatus(State.Status.syncing);\n        const file = await google.drive.download(filename, content => {\n            try {\n                const list = content as Array<NominationData>;\n                list.forEach(data => Nomination.from(data));\n            } catch {\n                return false;\n            }\n            return true;\n        });\n        if (!file) return 0;\n        return importNominations(file as Array<NominationData>);\n    }\n\n    function importNominations(list: Array<NominationData>): number {\n        let count = 0;\n        try {\n            const sources = list.map(data => Nomination.from(data));\n            const nominations = _store.state.nominations.map((nomination) => nomination);\n            for (const nomination of sources) {\n                let merged = false;\n                for (const target of nominations) {\n                    merged = target.merge(nomination);\n                    if (merged) {\n                        count += 1;\n                        break;\n                    }\n                }\n                if (merged) continue;\n                nominations.push(nomination);\n            }\n            _store.commit('setNominations', nominations);\n            save();\n        } catch (error) {\n            count = 0;\n        }\n        return count;\n    }\n\n    function getRaws(): Array<Nomination> {\n        return _store.state.nominations.map(nomination => toRaw(nomination));\n    }\n\n    function getNominationsBlod(): Blob {\n        const raws = _store.state.nominations.map((nomination) => toRaw(nomination.data));\n        return new Blob(\n            [ JSON.stringify(raws, null, 4) ],\n            { type: mimeJSON }\n        )\n    }\n    \n    /**\n     * Query Brainstorming firebase and update local bs data\n     */\n    /*\n    export function updateBsData() {\n        bs.update(nominations, () => {\n            events.bsUpdate();\n            events.info(i18next.t('message:service.bsDataUpdated'));\n        });\n    }\n    */\n}","import { preferences } from '@/service/preferences';\nimport { umi } from '@/service/umi';\nimport { MessageCallback, ProgressCallback } from '@/service/types';\nimport Nomination from '@/service/nomination';\n\nimport { parser } from './parser';\n\n/**\n * Events for {@link Mari}\n */\ninterface MariEvents {\n    alert:      MessageCallback;    // Triggered when alert should be displayed\n    progress:   ProgressCallback,   // Triggered when main progress update\n}\n\n/**\n * Item of {@link Progress}\n */\nclass ProgressItem {\n    total: number = 0;\n    finished: number = 0;\n\n    clear() {\n        this.total = 0;\n        this.finished = 0;\n    }\n\n    /**\n     * Detect if the progress is not 100%\n     */\n    get left() {\n        return this.finished < this.total;\n    }\n\n    /**\n     * The percentage of progress\n     */\n    get percent() {\n        return this.total === 0 ? 0.0 : (this.finished / this.total);\n    }\n}\n\n/**\n * Manage the progress of mail processing\n */\nclass Progress {\n\n    lists = new ProgressItem();\n    messages = new ProgressItem();\n\n    onProgress  : ProgressCallback  = () => { };    // Triggered when a message finished if all lists are finished\n\n    /**\n     * Clear all progress\n     */\n    clear() {\n        this.lists.clear();\n        this.messages.clear();\n    }\n\n    /**\n     * Add a WIP list\n     */\n    addList() {\n        this.lists.total += 1;\n    }\n\n    /**\n     * Finish a list and check finish\n     * @param messages Count of the messages to process\n     */\n    finishList(messages: number) {\n        this.lists.finished += 1;\n        this.messages.total += messages;\n        this.onProgress(this.percent);\n        console.log(`Mari progress: [list][${this.lists.finished}/${this.lists.total}]`);\n    }\n\n    /**\n     * Finish a message and check finish\n     */\n    finishMessage() {\n        this.messages.finished += 1;\n        console.log(`Mari progress: [message][${this.messages.finished}/${this.messages.total}]`);\n        if (!this.lists.left) {\n            this.onProgress(this.percent);\n        }\n    }\n\n    /**\n     * Detect if there is list or message left\n     */\n    private get left() {\n        return this.lists.left || this.messages.left;\n    }\n\n    /**\n     * The percentage of progress\n     */\n    private get percent() {\n        if (this.lists.total === 0 || this.messages.total === 0) {\n            return 0.0\n        }\n        if (this.lists.left) {\n            return this.lists.percent * 0.2;\n        }\n        return 0.2 + this.messages.percent * 0.8;\n    }\n}\n\n/**\n * Query and process mails\n */\nexport default class Mari {\n\n    private queryAfter: string = '';\n    private ignoreIds: Array<string> = [];      // List of ids of mails that should be ignored\n    private nominations: Array<Nomination> = [];    // List of nominations\n\n    private progress = new Progress();  // Progress manager\n\n    events: MariEvents = {\n        alert:  () => {},\n        progress: () => {},\n    };\n\n    /**\n     * Initiate Mari\n     */\n    init() {\n        this.progress.onProgress = (percent) => this.events.progress(percent);\n    }\n\n    /**\n     * Start the process\n     * @param nominations Existing nominations\n     */\n    async start(nominations: Array<Nomination>) {\n        this.nominations.length = 0;\n        this.progress.lists.clear();\n        this.progress.messages.clear();\n\n        // Ignore the mails already in the list\n        this.ignoreIds = nominations.flatMap(nomination => {\n            return nomination.resultMailId.length > 0 \n                ? [ nomination.confirmationMailId, nomination.resultMailId ] : [ nomination.confirmationMailId ];\n        });\n        if (preferences.general.queryAfterLatest()) {\n            const latest = Math.floor(this.nominations.reduce((time, nomination) => {\n                return Math.max(time, nomination.confirmedTime, nomination.resultTime)\n            }, 0) / 1000);\n            this.queryAfter = ` after:${latest}`;\n        } else {\n            this.queryAfter = '';\n        }\n        const queries: Array<Promise<void>> = [];\n        for (const status of umi.status.values()) {\n            for (const scanner of status.queries.keys()) {\n                queries.push(this.query(status, scanner));\n            }\n        }\n        await Promise.allSettled(queries);\n        nominations.push(...this.nominations);\n        return;\n    }\n\n    /**\n     * Start to query message list\n     * @param status Status to query\n     * @param scanner Scanner to query\n     */\n    private async query(status: umi.Status, scanner: umi.ScannerCode) {\n        this.progress.addList();\n        // Query ID list\n        const ids: Array<string> = [];\n        let pageToken: string | undefined = undefined;\n        do {\n            type ListResponse = gapi.client.Response<gapi.client.gmail.ListMessagesResponse>;\n            const response: ListResponse = await gapi.client.gmail.users.messages.list({\n                userId: 'me',\n                q: `${status.queries.get(scanner)!}${this.queryAfter}`,\n                pageToken: pageToken\n            });\n            if (!response) break;\n            if (response.result.messages) {\n                const filtered = response.result.messages.filter(message => {\n                    if (!message.id) return false;\n                    return !this.ignoreIds.includes(message.id);\n                }).map(message => message.id!);\n                ids.push(...filtered);\n            }\n            pageToken = response.result.nextPageToken;\n        } while (pageToken);\n        this.progress.finishList(ids.length);\n        // Query and parse mails\n        for (const id of ids) {\n            const response = await gapi.client.gmail.users.messages.get({\n                userId: 'me',\n                id: id,\n                format: 'full',\n                metadataHeaders: 'Subject'\n            });\n            if (!response) continue;\n            const fullMail = response.result;\n            try {\n                const nomination = parser.parse(fullMail, status.code, scanner);\n                this.nominations.push(nomination);\n            } catch (error) {\n                let subject = '';\n                for (const header of fullMail.payload!.headers!) {\n                    if (header.name === 'Subject') {\n                        subject = header.value!;\n                        break;\n                    }\n                }\n                let details: string = error;\n                if ('message' in error) {\n                    const typedError = error as Error;\n                    details = typedError.stack || typedError.message;\n                }\n                this.events.alert(`message:service.mari.reportParserError ${subject} [${status}:${scanner}]${details}`);\n            }\n            this.progress.finishMessage();\n        }\n        return;\n    }\n}","import { eli } from \"@lucka-labs/eli\";\n\nexport namespace util {\n\n    export function copy(text: string) {\n        const textarea = eli('textarea', { value: text, readOnly: true });\n        document.body.append(textarea);\n        textarea.select();\n        document.execCommand('copy');\n        textarea.remove();\n    }\n\n    export function exportFile(filename: string, blob: Blob) {\n        const anchor = eli('a', {\n            href: URL.createObjectURL(blob),\n            download: filename,\n            hidden: true\n        });\n        document.body.append(anchor);\n        anchor.click();\n        anchor.remove();\n    }\n\n    export async function importFile() {\n        const input = eli('input', {\n            type: 'file',\n            accept: 'json',\n            hidden: true\n        });\n        return new Promise<string>(resolve => {\n            input.addEventListener('change', () => {\n                setTimeout(() => {\n                    input.remove();\n                }, 1000);\n                if (!input.files || input.files.length < 1) return;\n                const file = input.files[0];\n                const fileReader = new FileReader();\n                fileReader.onload = () => {\n                    if (typeof fileReader.result !== 'string') return;\n                    resolve(fileReader.result);\n                };\n                fileReader.readAsText(file);\n            }, false);\n            document.body.append(input);\n            input.click();\n        });\n    }\n\n    export async function loadScript(url: string) {\n        const script = eli('script', { src: url, defer: true });\n        return new Promise<void>(resolve => {\n            script.onload = () => {\n                resolve();\n            };\n            document.head.append(script);\n        });\n    }\n}","<template>\n<button class=\"fa mdc-icon-button\">\n    <material-icon-raw :icon=\"icon\"/>\n</button>\n</template>\n\n<script lang=\"ts\">\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialIconRaw from './IconRaw.vue';\n\n@Options({\n    components: {\n        MaterialIconRaw\n    },\n})\nexport default class MaterialTopAppBar extends Vue {\n\n    @Prop(String) readonly icon!: string;\n\n    private ctrl?: MDCRipple;\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use '~@material/icon-button';\n\n@include icon-button.core-styles;\n</style>","\nimport { MDCRipple } from '@material/ripple';\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialIconRaw from './IconRaw.vue';\n\n@Options({\n    components: {\n        MaterialIconRaw\n    },\n})\nexport default class MaterialTopAppBar extends Vue {\n\n    @Prop(String) readonly icon!: string;\n\n    private ctrl?: MDCRipple;\n\n    mounted() {\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    updated() {\n        this.ctrl?.destroy();\n        this.ctrl = MDCRipple.attachTo(this.$el);\n        this.ctrl.unbounded = true;\n    }\n\n    unmounted() {\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./IconButton.vue?vue&type=template&id=0b15f13c\"\nimport script from \"./IconButton.vue?vue&type=script&lang=ts\"\nexport * from \"./IconButton.vue?vue&type=script&lang=ts\"\n\nimport \"./IconButton.vue?vue&type=style&index=0&id=0b15f13c&lang=scss\"\nscript.render = render\n\nexport default script","const StringKeyBase = 'service.nomination';\n\nexport const StringKey = {\n    day: `${StringKeyBase}.day`,\n    missing: `${StringKeyBase}.missing`,\n\n    messageParseErrorMissingId: `message:${StringKeyBase}.parseErrorMissingId`,\n    messageParseErrorMissingTitle: `message:${StringKeyBase}.parseErrorMissingTitle`,\n    messageParseErrorMissingImage: `message:${StringKeyBase}.parseErrorMissingImage`,\n    messageParseErrorInvalidId: `message:${StringKeyBase}.parseErrorInvalidId`,\n    messageParseErrorInvalidImage: `message:${StringKeyBase}.parseErrorInvalidImage`,\n}","import { umi } from '@/service/umi';\n\nimport { StringKey } from './constants';\n\n/**\n * Location\n */\nexport interface LngLat {\n    lng: number;    // Longitude\n    lat: number;    // Latitude\n}\n\nexport interface NominationData {\n    id: string;     // Short ID, also brainstorming ID\n    title: string;  // Title\n    image: string;  // Hash part of the image URL\n    scanner: umi.ScannerCode;   // Scanner of the nomination\n\n    status: umi.StatusCode; // Status code\n    reasons?: Array<umi.ReasonCode>; // Reason codes\n\n    confirmedTime: number;  // Confirmed time, the timestamp of confirmation mail\n    confirmationMailId: string; // ID of confirmation mail\n    resultTime?: number; // Result time, the timestamp of result mail\n    resultMailId?: string;   // ID of result mail\n\n    lngLat?: LngLat;    // Location\n}\n\n/**\n * Nomination data\n */\nexport default class Nomination implements NominationData {\n\n    private static timestampSecondBound = 1E12;\n\n    /**\n     * Comparator for sorting by time\n     */\n    static readonly comparatorByTime = (a: Nomination, b: Nomination) => {\n        const timeA = a.resultTime ? a.resultTime : a.confirmedTime;\n        const timeB = b.resultTime ? b.resultTime : b.confirmedTime;\n        return timeA < timeB ? 1 : -1;\n    };\n\n    id = '';\n    title = '';\n    image = '';\n    scanner: umi.ScannerCode = umi.ScannerCode.Unknown;\n\n    status: umi.StatusCode = umi.StatusCode.Pending;\n    reasons: Array<umi.ReasonCode> = [];\n\n    confirmedTime = 0;\n    confirmationMailId = '';\n    resultTime = 0;\n    resultMailId = '';\n\n    lngLat?: LngLat = undefined;\n\n    /**\n     * Get the image URL\n     */\n    get imageUrl(): string {\n        return `https://lh4.googleusercontent.com/${this.image}`;\n    }\n\n    /**\n     * Get Intel Maps URL\n     */\n    get intelUrl(): string {\n        if (this.lngLat) {\n            return `https://intel.ingress.com/intel?ll=${this.lngLat.lat},${this.lngLat.lng}&z=18`;\n        } else {\n            return 'https://intel.ingress.com/intel';\n        }\n    }\n\n    /**\n     * Get Brainstorming watermeter URL\n     */\n    get bsUrl(): string {\n        return `https://brainstorming.azurewebsites.net/watermeter.html#${this.id}`;\n    }\n\n    get scannerData(): umi.Scanner {\n        return umi.scanner.get(this.scanner)!;\n    }\n\n    /**\n     * Get status data\n     */\n    get statusData(): umi.Status {\n        return umi.status.get(this.status)!;\n    }\n\n    /**\n     * Get data of reasons\n     */\n    get reasonsData(): Array<umi.Reason> {\n        return this.reasons.map((code) => {\n            return umi.reason.get(code)!;\n        });\n    }\n\n    /**\n     * Get the time of quota being restored\n     */\n    get restoreTime(): number {\n        return this.confirmedTime + (14 * 24 * 3600 * 1000);\n    }\n\n    /**\n     * Serialize to JSON\n     */\n    get data(): NominationData {\n        let data: NominationData = {\n            id: this.id,\n            title: this.title,\n            image: this.image,\n            scanner: this.scanner,\n            status: this.status,\n            confirmedTime: this.confirmedTime / 1000,\n            confirmationMailId: this.confirmationMailId,\n        };\n        if (this.reasons.length > 0) {\n            data.reasons = this.reasons;\n        }\n        if (this.resultTime) data.resultTime = this.resultTime / 1000;\n        if (this.resultMailId) data.resultMailId = this.resultMailId;\n        if (this.lngLat) {\n            data.lngLat = {\n                lng: this.lngLat.lng,\n                lat: this.lngLat.lat\n            };\n        }\n        return data;\n    }\n\n    /**\n     * Merge from another nomination\n     * @param nomination The nomination to merge from\n     * @returns Succeed or not\n     */\n    merge(nomination: Nomination): boolean {\n        if (this.id !== nomination.id) return false;\n        if (this.status === umi.StatusCode.Pending) {\n            this.title = nomination.title;\n            this.status = nomination.status;\n            this.reasons = nomination.reasons;\n            this.resultTime = nomination.resultTime;\n            this.resultMailId = nomination.resultMailId;\n        } else {\n            this.confirmedTime = nomination.confirmedTime;\n            this.confirmationMailId = nomination.confirmationMailId;\n        }\n        if (!this.lngLat) {\n            this.lngLat = nomination.lngLat;\n        }\n        return true;\n    }\n\n    /**\n     * Parse nomination from JSON\n     * @param data Raw data to be parsed\n     * @throws An `Error` when JSON missing `id`, `title` or `image`\n     */\n    static from(data: NominationData): Nomination {\n        if (!data.id) throw new Error(StringKey.messageParseErrorMissingId);\n        if (!data.title) throw new Error(StringKey.messageParseErrorMissingTitle);\n        if (!data.image) throw new Error(StringKey.messageParseErrorMissingImage);\n\n        // Fix old issues\n        const image = data.image.replace('\\r', '');\n\n        // Test format\n        if (!/^[a-zA-Z0-9]+$/.test(data.id)) {\n            throw new Error(StringKey.messageParseErrorInvalidId);\n        }\n        if (!/^[0-9a-zA-Z\\-\\_]+$/.test(image)) {\n            throw new Error(StringKey.messageParseErrorInvalidImage);\n        }\n\n        const nomination = new Nomination();\n        nomination.id = data.id;\n        nomination.title = data.title;\n        nomination.image = image;\n\n        if (data.scanner) {\n            nomination.scanner = data.scanner;\n        }\n\n        if (data.status === umi.StatusCode.Pending) {\n            nomination.status = umi.StatusCode.Pending;\n        } else if (data.status === umi.StatusCode.Accepted) {\n            nomination.status = umi.StatusCode.Accepted;\n        } else {\n            nomination.status = umi.StatusCode.Rejected;\n            if (data.status !== umi.Reason.undeclared) {\n                if (umi.reason.has(data.status)) {\n                    nomination.reasons.push(data.status);\n                }\n            }\n        }\n        if (data.reasons) {\n            for (const code of data.reasons) {\n                if (umi.reason.has(code) && !nomination.reasons.includes(code)) {\n                    nomination.reasons.push(code);\n                }\n            }\n        }\n\n        nomination.confirmedTime = data.confirmedTime > Nomination.timestampSecondBound ? data.confirmedTime : data.confirmedTime * 1000;\n        nomination.confirmationMailId = data.confirmationMailId;\n\n        if (data.resultTime) nomination.resultTime = data.resultTime > Nomination.timestampSecondBound ? data.resultTime : data.resultTime * 1000;\n        if (data.resultMailId) nomination.resultMailId = data.resultMailId;\n\n        if (data.lngLat) {\n            nomination.lngLat = {\n                lng: data.lngLat.lng,\n                lat: data.lngLat.lat,\n            }\n        }\n        return nomination;\n    }\n\n    /**\n     * Convert hash part of image URL to short ID\n     * @param imgUrl Hash part of the image URL\n     */\n    static parseId(imgUrl: string): string {\n        return imgUrl.replace(/[^a-zA-Z0-9]/g, '').slice(-10).toLowerCase();\n    }\n}\n\n/**\n * Callback for Array<Nomination>.filter()\n */\nexport type Predicator = (nomination: Nomination) => boolean;","import type { Reference } from '@firebase/database-types';\n\nimport { umi } from '@/service/umi';\nimport { util } from '../utils';\nimport { ProgressCallback } from '../types';\nimport Nomination from '@/service/nomination';\n\n/**\n * Result for {@link BrainstormingKit.analyse}\n */\ninterface BrainstormingStats {\n    review: number,                     // Review count\n    nomination: number,                 // Count of nominations containing reviews\n    rate: Map<string, Array<number>>,   // Map of rate lists\n    reviewTimes: Array<number>,         // List of review timestamps\n    synch: {\n        total: number,  // Count of reviews of resulted nominations\n        synched: number // Count of reviews matches the result\n    },\n}\n\n/**\n * Host Brainstorming data and handle tasks related to Brainstorming\n */\nexport namespace brainstorming {\n\n    const mimeJSON = 'application/json';\n    const filename = 'bsdata.json';\n\n    export enum FailReason {\n        INDEXEDDB_ERROR = 'message:service.brainstorming.indexedDBError',   // Unable to query local database\n        FIREBASE_ERROR  = 'message:service.brainstorming.firebaseError',    // Unable to query firebase\n        NOT_EXISTS      = 'message:service.brainstorming.notExists',        // Nomination not exists in local database or firebase\n        EARLY           = 'message:service.brainstorming.early',            // Nomination got result before firebase exists\n    };\n\n    export interface ReviewRaw {\n        cultural: string;\n        description: string;\n        location: string;\n        quality: string;\n        safety: string;\n        uniqueness: string;\n    }\n\n    export interface Review {\n        JSON: ReviewRaw;\n        Timestamp: number;\n        author: string;\n        reasons: string;\n        stars: string;\n    }\n\n    export interface Record {\n        description: string;\n        hashTags: Array<string>;\n        imageUrl: string;\n        lastTime: number;\n        lat: string;\n        lng: string;\n        statement?: string;\n        streetAddress: string;\n        supportingImageUrl?: string;\n        title: string;\n        [name: string]: any | Review;\n    }\n\n    const databaseName = 'brainstorming';\n    const databaseVersion = 1;\n    const storeName = 'record';\n\n    let database: IDBDatabase | undefined = undefined;  // Local database\n    let reference: Reference | undefined = undefined;   // Firebase reference\n\n    export async function init() {\n        return new Promise<boolean>((resolve, reject) => {\n            const request = window.indexedDB.open(databaseName, databaseVersion);\n            request.onsuccess = () => {\n                database = request.result;\n                resolve(true);\n            };\n            request.onerror = () => reject(request.error);\n            request.onupgradeneeded = () => {\n                request.result.createObjectStore(storeName);\n            };\n        });\n    }\n\n    /**\n     * Query data from local databse and firebase (full version only)\n     * @param nomination Nomination to query\n     * @param succeed Triggered when succeed to query data\n     * @param failed Triggered when Failed to query data\n     */\n    export async function query(nomination: Nomination): Promise<Record> {\n        if (beforeCreate(nomination)) {\n            throw new Error(FailReason.EARLY);\n        }\n        let record = await queryDatabase(nomination.id).catch(error => {\n            throw error;\n        });\n        if (record) {\n            return record;\n        }\n        record = await queryFirebase(nomination.id).catch(error => {\n            throw error;\n        });\n        if (!record) throw new Error(FailReason.NOT_EXISTS);\n        return record;\n    }\n\n    /**\n     * Query firebase to update local database\n     * @param nominations Nomination list\n     * @param finish Triggered when all query finishes\n     */\n    export async function update(nominations: Array<Nomination>, callback: ProgressCallback): Promise<number> {\n        let succeed = 0;\n        let processed = 0;\n        const total = nominations.length;\n        const queries: Array<Promise<Record | undefined>> = [];\n        for (const nomination of nominations) {\n            if (beforeCreate(nomination)) {\n                processed++;\n                callback(processed / total);\n                continue;\n            }\n            const query = queryFirebase(nomination.id)\n                .then(record => {\n                    processed++;\n                    if (record) succeed++;\n                    callback(processed / total);\n                    return record;\n                })\n                .catch(_ => {\n                    processed++;\n                    callback(processed / total);\n                    return undefined;\n                })\n            queries.push(query);\n        }\n        await Promise.allSettled(queries);\n        return succeed;\n    }\n\n    export async function getFromLocal(nomination: Nomination) {\n        if (beforeCreate(nomination)) return undefined;\n        return await queryDatabase(nomination.id);\n    }\n\n    export async function contains(nomination: Nomination) {\n        if (beforeCreate(nomination)) return false;\n        const record = await queryDatabase(nomination.id);\n        return typeof record !== 'undefined';\n    }\n\n    export async function importDatabase() {\n        const content = await util.importFile();\n        let data: Map<string, Record>;\n        try {\n            data = new Map(JSON.parse(content));\n        } catch (error) {\n            return 0;\n        }\n        for (const [key, record] of data) save(key, record);\n        return data.size;\n    }\n\n    export async function exportDatabase(): Promise<number> {\n        const list = await getAll();\n        if (list.length < 1) return 0;\n        const pairs: Array<[string, Record]> = list.map(record => [ Nomination.parseId(record.imageUrl), record]);\n        const blob = new Blob(\n            [ JSON.stringify(pairs, null, 4) ],\n            { type: mimeJSON }\n        );\n        util.exportFile(filename, blob);\n        return pairs.length;\n    }\n\n    /**\n     * Clear local database\n     */\n     export function clear() {\n        const store = getStore('readwrite');\n        if (!store) return;\n        store.clear();\n    }\n\n    /**\n     * Query from the local IndexedDB database\n     * @param id Brainstorming ID\n     */\n    function queryDatabase(id: string) {\n        return new Promise<Record | undefined>((resolve, reject) => {\n            const store = getStore('readonly');\n            if (!store) {\n                reject(FailReason.INDEXEDDB_ERROR);\n                return;\n            }\n            const request = store.get(id);\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => resolve(undefined);\n        });\n    }\n\n    /**\n     * Query from the Firebase database\n     * @param id Brainstorming ID\n     */\n    async function queryFirebase(id: string): Promise<Record | undefined> {\n        const [ firebase, _ ] = await Promise.all([\n            import(/* webpackChunkName: 'firebase' */ '@firebase/app'),\n            import(/* webpackChunkName: 'firebase' */ '@firebase/database'),\n        ]).catch(_ => {\n            throw new Error(FailReason.FIREBASE_ERROR);\n        });\n        if (!reference) {\n            const app = firebase.default.initializeApp({ databaseURL: 'https://oprbrainstorming.firebaseio.com' });\n            if (!reference) reference = app.database!().ref('c/reviews/');\n        }\n        const data = await reference.child(id).once('value').catch(_ => {\n            throw new Error(FailReason.FIREBASE_ERROR);\n        });\n        const record: Record | undefined = data.val();\n        if (record) save(id, record);\n        return record;\n    }\n\n    function getAll() {\n        return new Promise<Array<Record>>((resolve) => {\n            const store = getStore('readonly');\n            if (!store) {\n                resolve([]);\n                return;\n            }\n            const request = store.getAll();\n            request.onsuccess = () => {\n                resolve(request.result);\n            }\n            request.onerror = () => {\n                console.log(request.error);\n                resolve([]);\n            }\n        });\n    }\n\n    function save(id: string, record: Record) {\n        const store = getStore('readwrite');\n        if (!store) return;\n        store.put(record, id);\n    }\n\n    /**\n     * Check if the nomination got result before creation of firebase, should skip query if true\n     * @param nomination The nomination\n     */\n    function beforeCreate(nomination: Nomination): boolean {\n        return nomination.status !== umi.StatusCode.Pending && nomination.resultTime < 1518796800000;\n    }\n\n    function getStore(mode: IDBTransactionMode): IDBObjectStore | undefined {\n        if (!database) return undefined;\n        return database.transaction([ storeName ], mode).objectStore(storeName);\n    }\n}","export namespace preferences {\n\n    export function set<T>(key: string, value: T) {\n        localStorage.setItem(key, JSON.stringify(value));\n    }\n\n    export function get<T>(key: string, def: T): T {\n        const value = localStorage.getItem(key);\n        if (value !== null) return JSON.parse(value);\n        return def;\n    }\n\n    export namespace general {\n\n        const keyQueryAfterLatest = 'potori.pref.general.queryAfterLatest';\n\n        export function queryAfterLatest(): boolean { return preferences.get(keyQueryAfterLatest, false); }\n        export function setQueryAfterLatest(value: boolean) { preferences.set(keyQueryAfterLatest, value); }\n    }\n\n    export namespace google {\n        \n        const keySync = 'potori.pref.google.sync';\n        \n        export function sync(): boolean { return preferences.get(keySync, false); }\n        export function setSync(value: boolean) { preferences.set(keySync, value); }\n    }\n\n    export namespace brainstorming {\n\n        const keyAutoQueryFirebase = 'potori.pref.brainstorming.autoQueryFirebase';\n\n        export function autoQueryFirebase(): boolean { return preferences.get(keyAutoQueryFirebase, false); }\n        export function setAutoQueryFirebase(value: boolean) { preferences.set(keyAutoQueryFirebase, value); }\n    }\n}","<template>\n{{ symbol }}\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Prop } from 'vue-property-decorator';\n\nconst IconSymbolMap: Record<string, string> = {\n    'search': '\\uf002',\n    'th-list'   : '\\uf00b',\n    'check' : '\\uf00c',\n    'times' : '\\uf00d',\n    'cog'   : '\\uf013',\n    'clock' : '\\uf017',\n    'redo'  : '\\uf01e',\n    'edit'  : '\\uf044',\n    'info-circle'   : '\\uf05a',\n    'arrow-left': '\\uf060',\n    'arrow-up'  : '\\uf062',\n    'plus'  : '\\uf067',\n    'calendar-alt'  : '\\uf073',\n    'folder-open'   : '\\uf07c',\n    'chart-bar' : '\\uf080',\n    'globe' : '\\uf0ac',\n    'angle-up'  : '\\uf106',\n    'angle-down': '\\uf107',\n    'ellipsis-v': '\\uf142',\n    'trash' : '\\uf1f8',\n    'map'   : '\\uf279',\n    'sync-alt'  : '\\uf2f1',\n    'sign-in-alt'   : '\\uf2f6',\n    'redo-alt'  : '\\uf2f9',\n    'pen'   : '\\uf304',\n    'map-marker-alt': '\\uf3c5',\n    'mobile-alt': '\\uf3cd',\n    'tachometer-alt': '\\uf3fd',\n    'user-check': '\\uf4fc',\n    'brain' : '\\uf5dc',\n}\n\nexport default class MaterialIconRaw extends Vue {\n\n    private static nameRegex = /^[a-z\\-]+$/;\n\n    @Prop(String) readonly icon!: string;\n\n    get symbol(): string {\n        if (MaterialIconRaw.nameRegex.test(this.icon)) {\n            return IconSymbolMap[this.icon];\n        } else {\n            return this.icon;\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n$fa-font-path: '~@fortawesome/fontawesome-free/webfonts';\n@import '~@fortawesome/fontawesome-free/scss/solid';\n@import '~@fortawesome/fontawesome-free/scss/mixins';\n@import '~@fortawesome/fontawesome-free/scss/core';\n@import '~@fortawesome/fontawesome-free/scss/fixed-width';\n</style>","\nimport { Vue, Prop } from 'vue-property-decorator';\n\nconst IconSymbolMap: Record<string, string> = {\n    'search': '\\uf002',\n    'th-list'   : '\\uf00b',\n    'check' : '\\uf00c',\n    'times' : '\\uf00d',\n    'cog'   : '\\uf013',\n    'clock' : '\\uf017',\n    'redo'  : '\\uf01e',\n    'edit'  : '\\uf044',\n    'info-circle'   : '\\uf05a',\n    'arrow-left': '\\uf060',\n    'arrow-up'  : '\\uf062',\n    'plus'  : '\\uf067',\n    'calendar-alt'  : '\\uf073',\n    'folder-open'   : '\\uf07c',\n    'chart-bar' : '\\uf080',\n    'globe' : '\\uf0ac',\n    'angle-up'  : '\\uf106',\n    'angle-down': '\\uf107',\n    'ellipsis-v': '\\uf142',\n    'trash' : '\\uf1f8',\n    'map'   : '\\uf279',\n    'sync-alt'  : '\\uf2f1',\n    'sign-in-alt'   : '\\uf2f6',\n    'redo-alt'  : '\\uf2f9',\n    'pen'   : '\\uf304',\n    'map-marker-alt': '\\uf3c5',\n    'mobile-alt': '\\uf3cd',\n    'tachometer-alt': '\\uf3fd',\n    'user-check': '\\uf4fc',\n    'brain' : '\\uf5dc',\n}\n\nexport default class MaterialIconRaw extends Vue {\n\n    private static nameRegex = /^[a-z\\-]+$/;\n\n    @Prop(String) readonly icon!: string;\n\n    get symbol(): string {\n        if (MaterialIconRaw.nameRegex.test(this.icon)) {\n            return IconSymbolMap[this.icon];\n        } else {\n            return this.icon;\n        }\n    }\n}\n","import { render } from \"./IconRaw.vue?vue&type=template&id=cd6e7afa\"\nimport script from \"./IconRaw.vue?vue&type=script&lang=ts\"\nexport * from \"./IconRaw.vue?vue&type=script&lang=ts\"\n\nimport \"./IconRaw.vue?vue&type=style&index=0&id=cd6e7afa&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n<router-view/>\n<material-dialog v-model=\"alertOpen\">{{ alertMessage }}</material-dialog>\n<material-snackbar :message=\"informMessage\" v-model=\"informOpen\"/>\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Options } from 'vue-property-decorator';\n\nimport { delibird } from './service/delibird';\n\nimport MaterialDialog from '@/components/material/Dialog.vue';\nimport MaterialSnackbar from '@/components/material/Snackbar.vue';\n\n@Options({\n    components: {\n        MaterialDialog,\n        MaterialSnackbar\n    }\n})\nexport default class App extends Vue {\n\n    alertMessage: string = '';\n    alertOpen: boolean = false;\n\n    informMessage: string = '';\n    informOpen: boolean = false;\n\n    mounted() {\n        delibird.events.alert = (message) => {\n            this.alertMessage = message;\n            this.alertOpen = true;\n        };\n        delibird.events.inform = (message) => {\n            this.informMessage = message;\n            this.informOpen = true;\n        };\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use '~@material/typography';\n@import url('https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap');\n\nhtml {\n    // Fix for iOS standalone mode\n    height: calc(100% + env(safe-area-inset-top, 0));\n}\n\nbody, #app {\n    margin: 0;\n    height: 100%;\n}\n\n#app {\n    @include typography.base();\n    display: flex;\n    flex-flow: column nowrap;\n\n    > main:not(.ignore-safe-area) {\n        margin-bottom: env(safe-area-inset-bottom);\n        margin-left: env(safe-area-inset-left);\n        margin-right: env(safe-area-inset-right);\n    }\n}\n</style>\n","<template>\n<div class=\"mdc-dialog\">\n    <div class=\"mdc-dialog__container\">\n        <div class=\"mdc-dialog__surface\" role=\"alertdialog\" aria-modal=\"true\">\n            <div class=\"mdc-dialog__content\">\n                <slot/>\n            </div>\n            <div class=\"mdc-dialog__actions\">\n                <slot name=\"actions\">\n                    <material-dialog-action text=\"Discard\" action=\"close\" as-default/>\n                </slot>\n            </div>\n        </div>\n    </div>\n    <div class=\"mdc-dialog__scrim\"></div>\n</div>\n</template>\n\n<script lang=\"ts\">\nimport { MDCDialog } from '@material/dialog';\nimport { Vue, Model, Options, Watch } from 'vue-property-decorator';\n\nimport MaterialDialogAction from './DialogAction.vue';\n\n@Options({\n    components: {\n        MaterialDialogAction\n    }\n})\nexport default class MaterialDialog extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n\n    private ctrl?: MDCDialog;\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCDialog.attachTo(this.$el);\n        this.ctrl.listen('MDCDialog:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use \"@material/dialog\";\n\n@include dialog.core-styles;\n</style>","<template>\n<material-button\n    type=\"button\" class=\"mdc-dialog__button\"\n    :data-mdc-dialog-action=\"action\"\n    :data-mdc-dialog-button-default=\"asDefault\">\n    {{ text }}\n</material-button>\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialButton from './Button.vue';\n\n@Options({\n    components: {\n        MaterialButton\n    }\n})\nexport default class MaterialDialogAction extends Vue {\n    @Prop(String) readonly action?: string;\n    @Prop(Boolean) readonly asDefault?: boolean;\n    @Prop(String) readonly text!: string;\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>","\nimport { Vue, Options, Prop } from 'vue-property-decorator';\n\nimport MaterialButton from './Button.vue';\n\n@Options({\n    components: {\n        MaterialButton\n    }\n})\nexport default class MaterialDialogAction extends Vue {\n    @Prop(String) readonly action?: string;\n    @Prop(Boolean) readonly asDefault?: boolean;\n    @Prop(String) readonly text!: string;\n}\n","import { render } from \"./DialogAction.vue?vue&type=template&id=5ae349b4\"\nimport script from \"./DialogAction.vue?vue&type=script&lang=ts\"\nexport * from \"./DialogAction.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { MDCDialog } from '@material/dialog';\nimport { Vue, Model, Options, Watch } from 'vue-property-decorator';\n\nimport MaterialDialogAction from './DialogAction.vue';\n\n@Options({\n    components: {\n        MaterialDialogAction\n    }\n})\nexport default class MaterialDialog extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n\n    private ctrl?: MDCDialog;\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCDialog.attachTo(this.$el);\n        this.ctrl.listen('MDCDialog:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Dialog.vue?vue&type=template&id=bcc32e7a\"\nimport script from \"./Dialog.vue?vue&type=script&lang=ts\"\nexport * from \"./Dialog.vue?vue&type=script&lang=ts\"\n\nimport \"./Dialog.vue?vue&type=style&index=0&id=bcc32e7a&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n<aside class=\"mdc-snackbar\">\n    <div class=\"mdc-snackbar__surface\" role=\"status\" aria-relevant=\"additions\">\n        <div class=\"mdc-snackbar__label\" aria-atomic=\"false\"></div>\n        <div class=\"mdc-snackbar__actions\" aria-atomic=\"true\">\n            <material-icon-button class=\"mdc-snackbar__dismiss\" icon=\"times\"/>\n        </div>\n    </div>\n</aside>\n</template>\n\n<script lang=\"ts\">\nimport { MDCSnackbar } from '@material/snackbar';\nimport { Vue, Model, Options, Prop, Watch } from 'vue-property-decorator';\n\nimport MaterialIconButton from './IconButton.vue';\n\n@Options({\n    components: {\n        MaterialIconButton\n    }\n})\nexport default class MaterialSnackbar extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n    @Prop(String) readonly message!: string;\n\n    private ctrl?: MDCSnackbar;\n\n    @Watch('message')\n    onMessageChanged(newVal: string, _: string) {\n        if (!this.ctrl) return;\n        this.ctrl.labelText = newVal;\n    }\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCSnackbar.attachTo(this.$el);\n        this.ctrl.labelText = this.message;\n        this.ctrl.listen('MDCSnackbar:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@use \"@material/snackbar/mdc-snackbar\";\n</style>","\nimport { MDCSnackbar } from '@material/snackbar';\nimport { Vue, Model, Options, Prop, Watch } from 'vue-property-decorator';\n\nimport MaterialIconButton from './IconButton.vue';\n\n@Options({\n    components: {\n        MaterialIconButton\n    }\n})\nexport default class MaterialSnackbar extends Vue {\n\n    @Model('modelValue', { type: Boolean, default: false }) readonly value!: boolean;\n    @Prop(String) readonly message!: string;\n\n    private ctrl?: MDCSnackbar;\n\n    @Watch('message')\n    onMessageChanged(newVal: string, _: string) {\n        if (!this.ctrl) return;\n        this.ctrl.labelText = newVal;\n    }\n\n    @Watch('value')\n    onValueChanged(newVal: boolean, _: string) {\n        if (!this.ctrl) return;\n        if (newVal) this.ctrl.open();\n    }\n\n    mounted() {\n        this.ctrl = MDCSnackbar.attachTo(this.$el);\n        this.ctrl.labelText = this.message;\n        this.ctrl.listen('MDCSnackbar:closed', () => {\n            this.$emit('update:modelValue', false);\n        });\n        if (this.value) this.ctrl.open();\n    }\n\n    unmounted() {\n        if (this.ctrl?.isOpen) this.ctrl?.close();\n        this.ctrl?.destroy();\n    }\n}\n","import { render } from \"./Snackbar.vue?vue&type=template&id=12cf8ebd\"\nimport script from \"./Snackbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Snackbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Snackbar.vue?vue&type=style&index=0&id=12cf8ebd&lang=scss\"\nscript.render = render\n\nexport default script","\nimport { Vue, Options } from 'vue-property-decorator';\n\nimport { delibird } from './service/delibird';\n\nimport MaterialDialog from '@/components/material/Dialog.vue';\nimport MaterialSnackbar from '@/components/material/Snackbar.vue';\n\n@Options({\n    components: {\n        MaterialDialog,\n        MaterialSnackbar\n    }\n})\nexport default class App extends Vue {\n\n    alertMessage: string = '';\n    alertOpen: boolean = false;\n\n    informMessage: string = '';\n    informOpen: boolean = false;\n\n    mounted() {\n        delibird.events.alert = (message) => {\n            this.alertMessage = message;\n            this.alertOpen = true;\n        };\n        delibird.events.inform = (message) => {\n            this.informMessage = message;\n            this.informOpen = true;\n        };\n    }\n}\n","import { render } from \"./App.vue?vue&type=template&id=4edf6c57\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4edf6c57&lang=scss\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router';\n\nconst routes: Array<RouteRecordRaw> = [\n    {\n        path: '/',\n        name: 'Dashboard',\n        component: () => import(/* webpackChunkName: 'dashboard' */ '@/views/Dashboard.vue')\n    },\n\n    {\n        path: '/charts',\n        name: 'Charts',\n        component: () => import(/* webpackChunkName: 'charts' */ '@/views/Charts.vue'),\n    },\n    {\n        path: '/brainstorming',\n        name: 'Brainstorming',\n        component: () => import(/* webpackChunkName: 'braainstorming' */ '@/views/Brainstorming.vue'),\n    },\n\n\n    {\n        path: '/list',\n        name: 'List',\n        component: () => import(/* webpackChunkName: 'list' */ '@/views/NominationList.vue'),\n    },\n    {\n        path: '/details',\n        name: 'Details',\n        component: () => import(/* webpackChunkName: 'details' */ '@/views/NominationDetails.vue'),\n    },\n    {\n        path: '/map',\n        name: 'Map',\n        component: () => import(/* webpackChunkName: 'map' */ '@/views/NominationMap.vue'),\n    },\n    {\n      path: '/preferences',\n      name: 'Preferences',\n      component: () => import(/* webpackChunkName: 'preferences' */ '@/views/Preferences.vue')\n    },\n\n    {\n        path: '/match',\n        name: 'Match',\n        component: () => import(/* webpackChunkName: 'match' */ '@/views/MatchView.vue')\n    },\n];\n\nconst router = createRouter({\n    history: createWebHashHistory('/next/'),\n    routes: routes,\n});\n\nexport default router\n","import { createApp } from 'vue';\n\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport { service } from './service';\n\nservice.init(store);\ncreateApp(App)\n    .use(store)\n    .use(router)\n    .mount('#app');\n","import data from '@/data/umi/umi.json';\nimport { Predicator } from '@/service/nomination';\n\n/**\n * Keep all status data\n */\nexport namespace umi {\n\n    /**\n     * Code to identify scanner\n     */\n    export enum ScannerCode {\n        Unknown     = 0,\n        Redacted    = 1,\n        Prime       = 2,\n    }\n    \n    /**\n     * Scanner information\n     */\n    export class Scanner {\n        readonly code: ScannerCode;\n        readonly title: string;\n\n        readonly predicator: Predicator;    // Predicator for filter\n\n        constructor(code: ScannerCode, title: string) {\n            this.code = code;\n            this.title = title;\n            this.predicator = (nomination) => nomination.scanner === this.code;\n        }\n    }\n\n    /**\n     * Code to identify status\n     */\n    export enum StatusCode {\n        Pending     = 0,\n        Accepted    = 1,\n        Rejected    = 101,\n    }\n\n    /**\n     * Code to identify reason\n     */\n    export type ReasonCode = number;\n    \n    /**\n     * Status information\n     */\n    export class Status {\n\n        readonly code: StatusCode; // Code to identify the status and saved in file\n        readonly title: string; // Title to display\n        readonly icon: string;  // Icon to represent the status\n    \n        readonly queries: Map<ScannerCode, string>;  // Queries to search mails, <scanner, query>\n\n        readonly predicator: Predicator;    // Predicator for filter\n    \n        constructor(\n            code: number, title: string, icon: string,\n            queries: Map<ScannerCode, string>\n        ) {\n            this.code = code;\n            this.title = title;\n            this.icon = icon;\n\n            this.queries = queries;\n            this.predicator = (nomination) => nomination.status === this.code;\n        }\n    }\n    \n    /**\n     * Reason information\n     */\n    export class Reason {\n\n        static undeclared: ReasonCode = 101;\n        static duplicated: ReasonCode = 102;\n        static close: ReasonCode = 103;\n\n        //readonly key: string;   // Key of the status\n        readonly code: ReasonCode; // Code to identify the status and saved in file\n        readonly title: string; // Title to display\n        readonly icon: string;  // Icon to represent the status\n    \n        readonly color: string; // Color to represent the reason in charts\n        readonly keywords: Map<ScannerCode, Array<string>>;  // Keywords to identify the reason, <scanner, keywords>\n\n        readonly predicator: Predicator;    // Predicator for filter\n    \n        constructor(\n            code: number, title: string, icon: string,\n            color: string, keyword: Map<ScannerCode, Array<string>>\n        ) {\n            this.code = code;\n            this.title = title;\n            this.icon = icon;\n\n            this.color = color;\n            this.keywords = keyword;\n\n            if (code === Reason.undeclared) {\n                this.predicator = (nomination) => nomination.status === StatusCode.Rejected && nomination.reasons.length < 1;\n            } else {\n                this.predicator = (nomination) => nomination.status === StatusCode.Rejected && nomination.reasons.indexOf(code) > -1;\n            }\n        }\n    }\n\n    /**\n     * Common type of `Scanner`, `Status` and `Reason`\n     */\n    export type CommonSense = Scanner | Status | Reason;\n    \n    export const scanner = data.scanners.reduce((map, json) => {\n        const scanner = new Scanner(json.code, json.title);\n        map.set(scanner.code, scanner);\n        return map;\n    }, new Map<ScannerCode, Scanner>());\n\n    export const status = data.statuses.reduce((map, json) => {\n        const status = new Status(\n            json.code, json.title, json.iconFA,\n            json.queries.reduce((quries, query) => {\n                quries.set(query.scanner, query.query);\n                return quries;\n            }, new Map<ScannerCode, string>())\n        );\n        map.set(status.code, status);\n        return map;\n    }, new Map<StatusCode, Status>());\n\n    export const reason = data.reasons.reduce((map, json) => {\n        const reason = new Reason(\n            json.code, json.title, json.iconFA, json.color,\n            json.keywords.reduce((mapKeywords, keywords) => {\n                mapKeywords.set(keywords.scanner, keywords.keywords);\n                return mapKeywords;\n            }, new Map<ScannerCode, Array<string>>())\n        );\n        map.set(reason.code, reason);\n        return map;\n    }, new Map<ReasonCode, Reason>());\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dialog.vue?vue&type=style&index=0&id=bcc32e7a&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IconButton.vue?vue&type=style&index=0&id=0b15f13c&lang=scss\""],"sourceRoot":""}