(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"075d":function(e){e.exports=JSON.parse('{"en":{"link":"Link Google Account","match":"Manually Match","charts":"Charts","brainstorming":"Brainstorming","processingMails":"Processing Mails","queryingBrainstorming":"Querying Brainstorming","syncing":"Syncing","loadingGAPI":"Loading Google API"},"zh":{"link":"连接Google账号","match":"手动匹配","charts":"图表","brainstorming":"Brainstorming","processingMails":"处理邮件中","queryingBrainstorming":"查询Brainstorming中","syncing":"同步中","loadingGAPI":"正在加载Google API"}}')},"123d":function(e){e.exports=JSON.parse('{"en":{"header":"Hightlight","all":"All"},"zh":{"header":"要点","all":"全部"}}')},"2f0c":function(e){e.exports=JSON.parse('{"en":{"title":"Dashboard","refresh":"Refresh","preferences":"Preferences"},"zh":{"title":"仪表盘","refresh":"刷新","preferences":"偏好设置"}}')},"3d14":function(e,t,a){},"3e1a":function(e,t,a){},"55fa":function(e){e.exports=JSON.parse('{"en":{"header":"Scanners"},"zh":{"header":"扫描器"}}')},"625f":function(e,t,a){"use strict";a("3d14")},7277:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const n={class:"dashboard"};function s(e,t,a,s,r,o){const i=Object(c["E"])("material-icon-button"),l=Object(c["E"])("material-top-app-bar"),d=Object(c["E"])("material-top-app-bar-adjust"),u=Object(c["E"])("status"),b=Object(c["E"])("highlight"),O=Object(c["E"])("gallery"),j=Object(c["E"])("scanners"),h=Object(c["E"])("reasons");return Object(c["x"])(),Object(c["createElementBlock"])(c["a"],null,[Object(c["k"])(l,{title:e.$t("title")},{default:Object(c["J"])(()=>[e.canRefresh?(Object(c["x"])(),Object(c["e"])(i,{key:0,icon:"redo",title:e.$t("refresh"),onClick:e.refresh},null,8,["title","onClick"])):Object(c["f"])("",!0),Object(c["k"])(i,{icon:"cog",title:e.$t("preferences"),onClick:e.openPreference},null,8,["title","onClick"])]),_:1},8,["title"]),Object(c["k"])(d),Object(c["createElementVNode"])("main",n,[Object(c["k"])(u),e.empty?Object(c["f"])("",!0):(Object(c["x"])(),Object(c["e"])(b,{key:0})),e.empty?Object(c["f"])("",!0):(Object(c["x"])(),Object(c["e"])(O,{key:1})),e.empty?Object(c["f"])("",!0):(Object(c["x"])(),Object(c["e"])(j,{key:2})),e.empty?Object(c["f"])("",!0):(Object(c["x"])(),Object(c["e"])(h,{key:3}))])],64)}var r=a("9ab4"),o=a("1b40"),i=a("6022"),l=a("81dd"),d=a("2281"),u=a("4892");const b={class:"status"},O={key:1,class:"actions"};function j(e,t,a,n,s,r){const o=Object(c["E"])("linear-progress"),i=Object(c["E"])("material-icon-button");return Object(c["x"])(),Object(c["createElementBlock"])("div",b,[e.showProgress?(Object(c["x"])(),Object(c["e"])(o,{key:0,text:e.$t(e.progressText),determinate:e.progressDeterminate},null,8,["text","determinate"])):Object(c["f"])("",!0),e.showActions?(Object(c["x"])(),Object(c["createElementBlock"])("div",O,[e.showLinkButton?(Object(c["x"])(),Object(c["e"])(i,{key:0,icon:"sign-in-alt",title:e.$t("link"),onClick:e.link},null,8,["title","onClick"])):Object(c["f"])("",!0),e.showMatchButton?(Object(c["x"])(),Object(c["e"])(i,{key:1,icon:"user-check",title:e.$t("match"),onClick:e.match},null,8,["title","onClick"])):Object(c["f"])("",!0),e.showChartsButton?(Object(c["x"])(),Object(c["e"])(i,{key:2,icon:"chart-bar",title:e.$t("charts"),onClick:e.openCharts},null,8,["title","onClick"])):Object(c["f"])("",!0),e.showChartsButton?(Object(c["x"])(),Object(c["e"])(i,{key:3,icon:"brain",title:e.$t("brainstorming"),onClick:e.openBrainstorming},null,8,["title","onClick"])):Object(c["f"])("",!0)])):Object(c["f"])("",!0)])}var h=a("2e5e"),p=a("d43c"),m=a("075d");let g=class extends o["d"]{constructor(){super(...arguments),this.empty=!0}get saveID(){return this.$store.state.dia.saveID}get showProgress(){const e=this.$store.state.service.status;return e===i["b"].Status.processingMails||(e===i["b"].Status.queryingBrainstorming||(e===i["b"].Status.syncing||!(!this.empty||this.gapiLoaded)))}get progressText(){const e=this.$store.state.service.status;return e===i["b"].Status.processingMails?"processingMails":e===i["b"].Status.queryingBrainstorming?"queryingBrainstorming":e===i["b"].Status.syncing?"syncing":this.empty&&!this.gapiLoaded?"loadingGAPI":""}get progressDeterminate(){const e=this.$store.state.service.status;return e===i["b"].Status.processingMails?this.$store.state.progress.max>0:e===i["b"].Status.queryingBrainstorming}get showLinkButton(){return this.gapiLoaded&&!this.$store.state.google.authed}get showMatchButton(){return this.$store.state.service.status===i["b"].Status.requestMatch}get showChartsButton(){return!this.empty}get showActions(){return this.showLinkButton||this.showMatchButton||this.showChartsButton}get idle(){return this.$store.state.service.status===i["b"].Status.idle}get gapiLoaded(){return this.$store.state.google.loaded}created(){this.updateData()}onSaved(){this.updateData()}link(){i["b"].signIn()}match(){this.$router.push({path:"/match"})}openCharts(){this.$router.push({path:"/charts"})}openBrainstorming(){this.$router.push({path:"/brainstorming"})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const e=yield h["a"].count();this.empty=e<1}))}};Object(r["c"])([Object(o["e"])("saveID")],g.prototype,"onSaved",null),g=Object(r["c"])([Object(o["b"])({components:{MaterialIconButton:l["a"],LinearProgress:p["a"]},i18n:{messages:m}})],g);var f=g;a("d677");f.render=j;var v=f;const k={class:"card-grid"};function y(e,t,a,n,s,r){const o=Object(c["E"])("dashboard-card");return Object(c["x"])(),Object(c["createElementBlock"])(c["a"],null,[Object(c["createElementVNode"])("h2",null,Object(c["G"])(e.$t("header")),1),Object(c["createElementVNode"])("div",k,[Object(c["k"])(o,{title:e.$t("all"),icon:"arrow-up",count:e.countAll,onClick:e.open},null,8,["title","count","onClick"]),(Object(c["x"])(!0),Object(c["createElementBlock"])(c["a"],null,Object(c["C"])(e.dataset,t=>(Object(c["x"])(),Object(c["e"])(o,{key:t.status.code,title:t.status.title,icon:t.status.icon,count:t.count,onClick:a=>e.open(t.status)},null,8,["title","icon","count","onClick"]))),128))])],64)}var x=a("ce89");const E={class:"content"},C={class:"label"},D={class:"title"},B={class:"count"};function S(e,t,a,n,s,r){const o=Object(c["E"])("material-icon"),i=Object(c["E"])("material-card");return Object(c["x"])(),Object(c["e"])(i,{class:"dashboard-card"},{default:Object(c["J"])(()=>[Object(c["createElementVNode"])("div",E,[Object(c["createElementVNode"])("div",C,[Object(c["k"])(o,{icon:e.icon,"fixed-width":""},null,8,["icon"]),Object(c["createElementVNode"])("span",D,Object(c["G"])(e.title),1)]),Object(c["createElementVNode"])("div",B,Object(c["G"])(e.count),1)])]),_:1})}var $=a("e3a9"),w=a("7e13");let I=class extends o["d"]{};Object(r["c"])([Object(o["c"])(String)],I.prototype,"icon",void 0),Object(r["c"])([Object(o["c"])(String)],I.prototype,"title",void 0),Object(r["c"])([Object(o["c"])(Number)],I.prototype,"count",void 0),I=Object(r["c"])([Object(o["b"])({components:{MaterialCard:$["a"],MaterialIcon:w["a"]}})],I);var M=I;a("d101");M.render=S;var N=M,A=a("123d");let V=class extends o["d"]{constructor(){super(...arguments),this.countAll=0,this.dataset=[]}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}open(e){const t={path:"/list"};e&&(t.query={status:e.code}),this.$router.push(t)}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const e=new Map;for(const a of x["a"].status.values())e.set(a.code,{status:a,count:0});const t=yield h["a"].getAll();for(const a of t){const t=e.get(a.status);t.count++}this.countAll=t.length,this.dataset=Array.from(e.values())}))}};Object(r["c"])([Object(o["e"])("saveID")],V.prototype,"onSaved",null),V=Object(r["c"])([Object(o["b"])({components:{DashboardCard:N},i18n:{messages:A}})],V);var G=V;G.render=y;var q=G;const P={class:"gallery"},J={class:"caption"};function L(e,t,a,n,s,r){const o=Object(c["E"])("material-icon"),i=Object(c["E"])("material-card");return Object(c["x"])(),Object(c["createElementBlock"])(c["a"],null,[Object(c["createElementVNode"])("h2",null,Object(c["G"])(e.$t("header")),1),Object(c["createElementVNode"])("div",P,[(Object(c["x"])(!0),Object(c["createElementBlock"])(c["a"],null,Object(c["C"])(e.nominations,t=>(Object(c["x"])(),Object(c["createElementBlock"])("div",{key:t.id},[Object(c["k"])(i,{image:t.imageUrl,"square-image":"",onClick:a=>e.open(t.id)},{default:Object(c["J"])(()=>[Object(c["createElementVNode"])("div",J,[Object(c["k"])(o,{icon:t.statusData.icon,"fixed-width":""},null,8,["icon"]),Object(c["createElementVNode"])("span",null,Object(c["G"])(t.title),1)])]),_:2},1032,["image","onClick"])]))),128))])],64)}var _,z=a("a7a0"),R=a("a1cc");let T=_=class extends o["d"]{constructor(){super(...arguments),this.nominations=[]}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}open(e){this.$router.push({path:"/details",query:{id:e}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const e=yield h["a"].getAll(_.predicator);this.nominations=e.map(e=>z["a"].from(e)).sort(z["a"].comparatorByTime)}))}};T.datePast30Days=Date.now()-2592e6,T.predicator=e=>e.confirmedTime>_.datePast30Days||e.resultTime>_.datePast30Days,Object(r["c"])([Object(o["e"])("saveID")],T.prototype,"onSaved",null),T=_=Object(r["c"])([Object(o["b"])({components:{MaterialCard:$["a"],MaterialIcon:w["a"]},i18n:{messages:R}})],T);var U=T;a("c79b");U.render=L;var H=U;const W={class:"card-grid"};function Q(e,t,a,n,s,r){const o=Object(c["E"])("dashboard-card");return Object(c["x"])(),Object(c["createElementBlock"])(c["a"],null,[Object(c["createElementVNode"])("h2",null,Object(c["G"])(e.$t("header")),1),Object(c["createElementVNode"])("div",W,[(Object(c["x"])(!0),Object(c["createElementBlock"])(c["a"],null,Object(c["C"])(e.dataset,t=>(Object(c["x"])(),Object(c["e"])(o,{key:t.scanner.code,title:t.scanner.title,icon:"mobile-alt",count:t.count,onClick:a=>e.open(t.scanner)},null,8,["title","count","onClick"]))),128))])],64)}var F=a("55fa");let K=class extends o["d"]{constructor(){super(...arguments),this.dataset=[]}created(){this.updateData()}onSaved(){this.updateData()}open(e){this.$router.push({path:"/list",query:{scanner:e.code}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const e=new Map;for(const a of x["a"].scanner.values())a.code!==x["a"].ScannerCode.Unknown&&e.set(a.code,{scanner:a,count:0});const t=yield h["a"].getAll();for(const a of t){if(a.scanner===x["a"].ScannerCode.Unknown)continue;const t=e.get(a.scanner);t.count++}this.dataset=Array.from(e.values()).filter(e=>e.count>0).sort((e,t)=>e.scanner.code>t.scanner.code?1:-1)}))}};Object(r["c"])([Object(o["e"])("saveID")],K.prototype,"onSaved",null),K=Object(r["c"])([Object(o["b"])({components:{DashboardCard:N},i18n:{messages:F}})],K);var X=K;X.render=Q;var Y=X;const Z={class:"title-with-action"},ee=Object(c["createElementVNode"])("div",{class:"spacer"},null,-1),te={class:"card-grid"};function ae(e,t,a,n,s,r){const o=Object(c["E"])("material-button"),i=Object(c["E"])("dashboard-card");return Object(c["x"])(),Object(c["createElementBlock"])(c["a"],null,[Object(c["createElementVNode"])("h2",Z,[Object(c["createElementVNode"])("span",null,Object(c["G"])(e.$t("header")),1),ee,Object(c["k"])(o,{onClick:e.toggleMore},{default:Object(c["J"])(()=>[Object(c["j"])(Object(c["G"])(e.$t(e.more?"less":"more")),1)]),_:1},8,["onClick"])]),Object(c["createElementVNode"])("div",te,[(Object(c["x"])(!0),Object(c["createElementBlock"])(c["a"],null,Object(c["C"])(e.dataset,t=>(Object(c["x"])(),Object(c["e"])(i,{key:t.reason.code,title:t.reason.title,icon:t.reason.icon,count:t.count,onClick:a=>e.open(t.reason)},null,8,["title","icon","count","onClick"]))),128))])],64)}var ce=a("1703"),ne=a("960b");let se=class extends o["d"]{constructor(){super(...arguments),this.more=!1,this.datasetAll=[]}get saveID(){return this.$store.state.dia.saveID}get dataset(){return this.more?this.datasetAll:this.datasetAll.slice(0,4)}created(){this.updateData()}onSaved(){this.updateData()}toggleMore(){this.more=!this.more}open(e){this.$router.push({path:"/list",query:{reason:e.code}})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const e=new Map,t=yield h["a"].getAll(x["a"].status.get(x["a"].StatusCode.Rejected).predicator);for(const a of x["a"].reason.values()){const c=t.filter(a.predicator).length;c<1||e.set(a.code,{reason:a,count:c})}this.datasetAll=Array.from(e.values())}))}};Object(r["c"])([Object(o["e"])("saveID")],se.prototype,"onSaved",null),se=Object(r["c"])([Object(o["b"])({components:{MaterialButton:ce["a"],DashboardCard:N},i18n:{messages:ne}})],se);var re=se;a("adc7");re.render=ae;var oe=re,ie=a("2f0c");let le=class extends o["d"]{constructor(){super(...arguments),this.empty=!0}get canRefresh(){return this.$store.state.service.status===i["b"].Status.idle&&this.$store.state.google.authed}get saveID(){return this.$store.state.dia.saveID}created(){this.updateData()}onSaved(){this.updateData()}refresh(){i["b"].refresh()}openPreference(){this.$router.push({path:"/preferences"})}updateData(){return Object(r["b"])(this,void 0,void 0,(function*(){const e=yield h["a"].count();this.empty=e<1}))}};Object(r["c"])([Object(o["e"])("saveID")],le.prototype,"onSaved",null),le=Object(r["c"])([Object(o["b"])({components:{MaterialTopAppBar:d["a"],MaterialTopAppBarAdjust:u["a"],MaterialIconButton:l["a"],Status:v,Highlight:q,Gallery:H,Scanners:Y,Reasons:oe},i18n:{messages:ie}})],le);var de=le;a("625f");de.render=s;t["default"]=de},"7a76":function(e,t,a){},"7e13":function(e,t,a){"use strict";var c=a("7a23");function n(e,t,a,n,s,r){const o=Object(c["E"])("material-icon-raw");return Object(c["x"])(),Object(c["createElementBlock"])("i",{class:Object(c["normalizeClass"])(e.className)},[Object(c["k"])(o,{icon:e.icon},null,8,["icon"])],2)}var s=a("9ab4"),r=a("1b40"),o=a("bd16");let i=class extends r["d"]{get className(){let e="fa";return this.fixedWidth&&(e+=" fa-fw"),e}};Object(s["c"])([Object(r["c"])(String)],i.prototype,"icon",void 0),Object(s["c"])([Object(r["c"])(Boolean)],i.prototype,"fixedWidth",void 0),i=Object(s["c"])([Object(r["b"])({components:{MaterialIconRaw:o["a"]}})],i);var l=i;l.render=n;t["a"]=l},"8da0":function(e,t,a){},"8e15":function(e,t,a){"use strict";a("8da0")},"943d":function(e,t,a){},"958e":function(e,t,a){},"960b":function(e){e.exports=JSON.parse('{"en":{"header":"Reasons","more":"More","less":"Less"},"zh":{"header":"拒绝原因","more":"更多","less":"更少"}}')},a1cc:function(e){e.exports=JSON.parse('{"en":{"header":"Last 30 Days"},"zh":{"header":"近30天"}}')},adc7:function(e,t,a){"use strict";a("7a76")},c79b:function(e,t,a){"use strict";a("943d")},d101:function(e,t,a){"use strict";a("3e1a")},d677:function(e,t,a){"use strict";a("958e")},e3a9:function(e,t,a){"use strict";var c=a("7a23");const n={class:"mdc-card mdc-card--outlined"},s={class:"mdc-card__primary-action"};function r(e,t,a,r,o,i){return Object(c["x"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",s,[e.image?(Object(c["x"])(),Object(c["createElementBlock"])("div",{key:0,class:Object(c["normalizeClass"])(e.mediaClassName),style:Object(c["normalizeStyle"])(e.mediaStyle)},null,6)):Object(c["f"])("",!0),Object(c["D"])(e.$slots,"default")])])}var o=a("9ab4"),i=a("1b40");class l extends i["d"]{get mediaClassName(){return"mdc-card__media mdc-card__media--"+(this.squareImage?"square":"16-9")}get mediaStyle(){return this.image?`background-image: url("${this.image}")`:""}}Object(o["c"])([Object(i["c"])(String)],l.prototype,"image",void 0),Object(o["c"])([Object(i["c"])(Boolean)],l.prototype,"squareImage",void 0);a("8e15");l.render=r;t["a"]=l}}]);
//# sourceMappingURL=dashboard.02bcea16.js.map